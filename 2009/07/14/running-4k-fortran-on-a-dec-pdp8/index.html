<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Running 4K FORTRAN on a DEC PDP-8</title>
  <meta name="description" content="4K FORTRAN was a subset of FORTRAN II and was the first high-level language available for the DEC PDP-8.  It consisted of two parts: the 4K FORTRAN Compiler (nic">
  <meta name="keywords" content="Retro Vintage Programming Tinkering"/>

  <!-- *** Twitter Card *** -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@techtinkering">
  <meta name="twitter:title" content="Running 4K FORTRAN on a DEC PDP-8">
  <meta name="twitter:description" content="4K FORTRAN was a subset of FORTRAN II and was the first high-level language available for the DEC PDP-8.  It consisted of two parts: the 4K FORTRAN Compiler (nic">
  <!-- *** Twitter Card *** -->

  <!-- *** Open Graph *** --->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Running 4K FORTRAN on a DEC PDP-8">
  <meta property="og:description" content="4K FORTRAN was a subset of FORTRAN II and was the first high-level language available for the DEC PDP-8.  It consisted of two parts: the 4K FORTRAN Compiler (nic">
  <meta property="og:url" content="https://techtinkering.com/2009/07/14/running-4k-fortran-on-a-dec-pdp8/">
  <!-- *** Open Graph *** --->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-4388762-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-4388762-2');
  </script>

  <script>
    console.log('timeZone: '+Intl.DateTimeFormat().resolvedOptions().timeZone);
    function isUserFromUK() {
      return Intl.DateTimeFormat().resolvedOptions().timeZone == "Europe/London";
    }
  </script>

  <link href="/css/main.css" rel="stylesheet">
  <link href="/css/article.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" rel="stylesheet" type="text/css" />
  <link rel="canonical" href="https://techtinkering.com/2009/07/14/running-4k-fortran-on-a-dec-pdp8/">
  <link rel="alternate" type="application/rss+xml" title="TechTinkering - Retro Computers, Programming, General Technical Tinkering"
        href="https://feedproxy.google.com/TechTinkering" />

	<!-- ****** faviconit.com favicons ****** -->
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<!-- ****** faviconit.com favicons ****** -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>

  <script>
    if (isUserFromUK()) {
      console.log("No Google ADs - UK user");
    } else {
      console.log("Google ADs - not from uk");
      document.write('<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"><' + '/script>');
    }
  </script>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <script>
    // Cookie Consent - https://cookieconsent.insites.com
    window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#252e39"
        },
        "button": {
          "background": "#14a7d0"
        }
      },
      "theme": "classic",
      "position": "top",
      "static": true,
      "content": {
        "message": "TechTinkering uses cookies for advertising, analytics, etc.",
        "href": "https://techtinkering.com/privacy/"
      }
    })});
  </script>

  <script>
    if (isUserFromUK()) {
      console.log("No Google Ads - uk user");
    } else {
      console.log("Google Ads - non-uk user");
      (adsbygoogle = window.adsbygoogle || []).push({
           google_ad_client: "ca-pub-1613732348909658",
           enable_page_level_ads: true
      });
    }
  </script>

  <script>
    if (isUserFromUK()) {
      console.log("Amazon Banner - from uk");
      // Amazon Prime Video Banner 728x90 and 300x250
      amznBanner='<div class="amazonBannerDesktop"><iframe src="https://rcm-eu.amazon-adsystem.com/e/cm?o=2&p=48&l=ur1&category=piv&banner=0E183RXMV88X6J8GJ002&f=ifr&linkID=a2c37aae0561f075af3356504493bdf0&t=techtinkering-21&tracking_id=techtinkering-21" width="728" height="90" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0" sandbox="allow-scripts allow-same-origin allow-popups allow-top-navigation-by-user-activation"><' + '/iframe><' +'/div><div class="amazonBannerMobile"><iframe src="https://rcm-eu.amazon-adsystem.com/e/cm?o=2&p=12&l=ur1&category=piv&banner=070GKT77WVHAHSRTHK02&f=ifr&linkID=0dc57b53bcc8f7ab67a385d51155e57a&t=techtinkering-21&tracking_id=techtinkering-21" width="300" height="250" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0" sandbox="allow-scripts allow-same-origin allow-popups allow-top-navigation-by-user-activation"><' + '/iframe><' + '/div>';
    }
  </script>
</head>
  <body>
    <nav>
  <div class="container">
    <div class="navbar-header">
      <a href="/">TechTinkering</a><br />
      =============
    </div>

    <div class="contact">
      <ul>
        <li>
          <a href="https://twitter.com/TechTinkering" title="@TechTinkering on Twitter">Twitter</a>
        </li>
        <li>
          <a href="https://youtube.com/techtinkering" title="TechTinkering's YouTube Channel">YouTube</a>
        </li>
        <li>
          <a href="https://feeds.feedburner.com/TechTinkering" title="Subscribe to our RSS Feed">RSS</a>
        </li>
        <li>
          <a href="mailto:techtinkering@vlifesystems.com" title="Email us, we'd love to hear from you">Email</a>
        </li>
        <li>
          <a href="/useful-links/" title="Useful vintage computer links">Useful Links</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div id="content" class="container">
      <div class="margin-buffer">
    <article itemscope itemtype="http://schema.org/BlogPosting">
      <header>
        <a href="/2009/07/14/running-4k-fortran-on-a-dec-pdp8/" title="Running 4K FORTRAN on a DEC PDP-8">
          <h1 itemprop="headline name">Running 4K FORTRAN on a DEC PDP-8</h1>
        </a>
        <div>
            <time itemprop="datePublished"
                  datetime="2009-07-14">
              14 July 2009
            </time>
          <span itemscope itemprop="publisher"
                itemtype="http://schema.org/Organization">
            <meta itemprop="name" content="TechTinkering" />
            <meta itemprop="url" content="https://techtinkering.com" />
          </span>
          <span itemscope itemprop="author" itemtype="http://schema.org/Person">
            <a rel="author" itemprop="url" href="https://lawrencewoodman.github.io">
              <span itemprop="name">Lawrence Woodman</span>
            </a>
          </span>

          <ul class="tags">
              <li>#<a href="/articles/tag/dec/">DEC</a></li>
              <li>#<a href="/articles/tag/fortran/">FORTRAN</a></li>
              <li>#<a href="/articles/tag/pdp-8/">PDP-8</a></li>
              <li>#<a href="/articles/tag/programming/">Programming</a></li>
              <li>#<a href="/articles/tag/retro/">Retro</a></li>
          </ul>
        </div>
      </header>

      <script>
        if (isUserFromUK()) {
          document.write(amznBanner);
        }
      </script>

        <div itemprop="articleBody">
        <p>4K FORTRAN was a subset of FORTRAN II and was the first high-level language available for the DEC PDP-8.  It consisted of two parts: the 4K FORTRAN Compiler (nicknamed &quot;Fivetran&quot;) and the 4K FORTRAN Operating System.  The compiler was written by Larry Portner and the operating system was written by Henry Burkhardt.  The introduction of this compiler made the PDP-8 much easier to program and was particularly useful to those using the machine for scientific calculations.  Below is a guide to using 4K FORTRAN.</p>
<h2>Obtaining 4K FORTRAN and Its Manual</h2>
The following files are all from <a href="http://bitsavers.org">Bitsavers</a>.  The 4K FORTRAN compiler is available as a paper-tape image called: <a href="http://bitsavers.org/bits/DEC/pdp8/papertapeImages/set2/tray3/dec-08-afc1-pb_9-13-67.bin">dec-08-afc1-pb_9-13-67.bin</a>, and the 4K FORTRAN operating system is also available as a paper-tape image called: <a href="http://bitsavers.org/bits/DEC/pdp8/papertapeImages/set2/tray3/dec-08-afc3-pb_8-67.bin">dec-08-afc3-pb_8-67.bin</a>.  In addition, the <a href="http://www.bitsavers.org/pdf/dec/pdp8/software/DEC-08-AFCO-D_4K_FORTRAN.pdf">4K FORTRAN Programmers Reference Manual (May 1969)</a> is available in PDF format.
<h2>Compiling Source Code</h2>
<p>Once you have written some Fortran source code and committed it to paper-tape, you are ready to compile it.  For more information on how to create and edit source code on paper-tape, have a look at my article: <a href="/2009/06/16/a-quickstart-guide-to-editing-paper-tape-with-the-symbolic-tape-editor-on-the-dec-pdp-8/">A Quickstart Guide to Editing Paper Tape with the Symbolic Tape Editor on the DEC PDP-8</a>.</p>
<h3>Example Source Code</h3>
<p>Below is a simple piece of source code that calculates factorials.  It can be entered using the Symbolic Tape Editor mentioned above.  For those familiar with Fortran, note the non-standard use of semi-colons after labels, this is because the source is written on free-form paper tape not punched cards.</p>
<pre><code class="language-fortran">C;      THIS PROGRAM CALCULATES FACTORIALS
5;      TYPE 200
10;     ACCEPT 300,X
        FACT=Y=1.
        IF (X) 5,32,30
30;     IF (X-Y) 41,32,33
32;     TYPE 400,X,FACT
        GO TO 10
33;     FACT=FACT*(Y=Y+1.)
        GO TO 30
41;     PAUSE
        GO TO 5
200;    FORMAT (/, &quot;PLEASE TYPE A POSITIVE NUMBER&quot;, /)
300;    FORMAT (E)
400;    FORMAT (/,E, &quot;FACTORIAL IS&quot;,E)
        END
</code></pre>
<h3>Instructions for Owners of a Real PDP-8</h3>
To load the compiler from paper-tape on a real PDP-8 just load the Binary Loader first and then the compiler from paper-tape in the normal way.  Now attach the source code paper-tape to the paper-tape reader and some blank tape for the object code to the paper-tape punch.  The compiler can then be started at Octal address 200.  If you have a high-speed punch or reader then you will want to set Switch Register bit 1 to high for a high-speed reader and bit 2 to high for a high-speed punch (See appendix C of the Fortran Manual).
<h3>Instructions for Those Using SimH to Emulate a PDP-8</h3>
<p>To load the compiler's paper-tape image from the current directory:</p>
<pre><code class="language-text">sim&gt; load dec-08-afc1-pb_9-13-67.bin
</code></pre>
<p>SimH emulates a high-speed punch and reader, so you will want to set Switch Register bits 1 &amp; 2 to high to tell the compiler that this is what you will be using.</p>
<pre><code class="language-text">sim&gt; de sr 3000
</code></pre>
<p>Attach the Fortran source code to the paper tape reader.  In this case we could attach the paper-tape image of the factorials source code from the example above:</p>
<pre><code class="language-text">sim&gt; attach ptr factorials.ft
</code></pre>
<p>Attach a blank file to the paper tape punch, to store the object code produced by the compiler:</p>
<pre><code class="language-text">sim&gt; attach ptp factorials.f.bin
</code></pre>
<p>To run the compiler on the source (200 here is in Octal):</p>
<pre><code class="language-text">sim&gt; run 200
</code></pre>
<h2>Running the Compiled Code in the 4K FORTRAN Operating System (Object Time System)</h2>
<p>The code that is produced from the compiler can't be run on its own, it has to be run through the 4K FORTRAN Operating System.  This seems like a pain to start with, but once you get used to it, you will find that it gives you more flexible control over the devices attached to the PDP-8, without having to re-write your Fortran programs.</p>
<h3>Instructions for Owners of a Real PDP-8</h3>
<p>Load the operating system from paper-tape via the Binary Loader in the normal way.  If you have a high-speed punch or reader then you will want to set Switch Register bit 1 to high for a high-speed reader and bit 2 to high for a high-speed punch (See appendix C of the Fortran Manual).  Now attach the object code paper-tape to the paper-tape reader.  When the operating system is started at Octal address 200, it will load in the object code tape and halt.  To set the operating system to use the teletype for <code>ACCEPT</code> and <code>TYPE</code> statements (user I/O) set bits 1 &amp; 2 to low.  All you have to do now to execute the object code is press <code>CONTINUE</code>, and if you want to run it a second time just start execution again at Octal address 201.</p>
<h3>Instructions for Those Using SimH to Emulate a PDP-8</h3>
<p>If you have not already done so disconnect the paper-tape images from the reader and punch:</p>
<pre><code class="language-text">sim&gt; detach ptr
sim&gt; detach ptp
</code></pre>
<p>To load the Operating System's paper-tape image from the current directory:</p>
<pre><code class="language-text">sim&gt; load dec-08-afc3-pb_8-67.bin
</code></pre>
<p>Set the operating system to use the high-speed punch and high-speed reader:</p>
<pre><code class="language-text">sim&gt; de sr 3000
</code></pre>
<p>Attach the object code produced by the compiler to the paper tape reader.  In this case we could attach the paper-tape image of object code produced from the factorials source code above:</p>
<pre><code class="language-text">sim&gt; attach ptr factorials.f.bin
</code></pre>
<p>Start the fortran operating system, which will load in the object code tape and halt:</p>
<pre><code class="language-text">sim&gt; run 200
</code></pre>
<p>To set the operating system to use the teletype for ACCEPT and TYPE statements (user I/O):</p>
<pre><code class="language-text">sim&gt; de sr 0000
</code></pre>
<p>To execute the object code:</p>
<pre><code class="language-text">sim&gt; cont
</code></pre>
<p>To run the object code again:</p>
<pre><code class="language-text">sim&gt; run 201
</code></pre>
<h2>Where Now?</h2>
<p>As you have seen, basic operation of the Fortran compiler is quite simple.  Beyond this there is quite a bit more that can be done, such as using DECtape for processing data.  The 4K FORTRAN manual does a good job of explaining how to use the compiler and operating system, as well as teaching this variant of Fortran.  If you haven't used SimH before, take a look at my article: <a href="/2009/05/26/emulating-a-dec-pdp8-with-simh/">Emulating a DEC PDP-8 with SimH</a>.  As always, I would be interested to hear what you do with this.</p>
      </div>
    </article>
</div>

<script>
  if (isUserFromUK()) {
    document.write(amznBanner);
  }
</script>

  <div id="cclicence">
    <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
      <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
    </a>
    <br />
    <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Running 4K FORTRAN on a DEC PDP-8</span>
    by <a xmlns:cc="http://creativecommons.org/ns#" href="https://techtinkering.com/2009/07/14/running-4k-fortran-on-a-dec-pdp8/" property="cc:attributionName" rel="cc:attributionURL">Lawrence Woodman</a>
   is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
   
  </div>


  <div class="discuss">
    <h2 style="margin-top:0;">Share This Post</h2>
    <div class="contact">
  <ul>
    <li><a href="http://www.reddit.com/submit?url=https%3A%2F%2Ftechtinkering.com%2F2009%2F07%2F14%2Frunning-4k-fortran-on-a-dec-pdp8%2F&title=Running%204K%20FORTRAN%20on%20a%20DEC%20PDP-8" target="_blank" title="Submit to Reddit">Reddit</a></li>
    <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ftechtinkering.com%2F2009%2F07%2F14%2Frunning-4k-fortran-on-a-dec-pdp8%2F&quote=Running%204K%20FORTRAN%20on%20a%20DEC%20PDP-8" target="_blank" title="Share on Facebook">Facebook</a></li>
    <li><a href="https://twitter.com/intent/tweet?source=https%3A%2F%2Ftechtinkering.com%2F2009%2F07%2F14%2Frunning-4k-fortran-on-a-dec-pdp8%2F&text=Running%204K%20FORTRAN%20on%20a%20DEC%20PDP-8:%0Ahttps%3A%2F%2Ftechtinkering.com%2F2009%2F07%2F14%2Frunning-4k-fortran-on-a-dec-pdp8%2F&via=TechTinkering" target="_blank" title="Tweet">Twitter</a></li>
    <li><a href="mailto:?subject=Running%204K%20FORTRAN%20on%20a%20DEC%20PDP-8&body=4K%20FORTRAN%20was%20a%20subset%20of%20FORTRAN%20II%20and%20was%20the%20first%20high-level%20language%20available%20for%20the%20DEC%20PDP-8.%20%20It%20consisted%20of%20two%20parts%3A%20the%204K%20FORTRAN%20Compiler%20%28nicknamed%20%26quot%3BFivetran%26quot%3B%29%20and%20the%204K%20...:%0A%0Ahttps%3A%2F%2Ftechtinkering.com%2F2009%2F07%2F14%2Frunning-4k-fortran-on-a-dec-pdp8%2F" target="_blank" title="Send email">Email</a></li>
  </ul>
</div>

    <h2>Feedback/Discuss</h2>
    <div class="contact">
  <ul>


    <li><a href="mailto:techtinkering@vlifesystems.com?subject=Comment:%20Running%204K%20FORTRAN%20on%20a%20DEC%20PDP-8&body=Article%20URL:%20https%3A%2F%2Ftechtinkering.com%2F2009%2F07%2F14%2Frunning-4k-fortran-on-a-dec-pdp8%2F%0A" title="Send us an email">Email</a></li>
  </ul>
</div>
  </div>


    <div>
    <h2>Related Articles</h2>
    <div class="margin-buffer">
      <header>
  <h2><a href="/2009/06/16/a-quickstart-guide-to-editing-paper-tape-with-the-symbolic-tape-editor-on-the-dec-pdp-8/">A Quickstart Guide to Editing Paper Tape With the Symbolic Tape Editor on the DEC PDP-8</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/dec/">DEC</a></li>
          <li>#<a href="/articles/tag/editors/">Editors</a></li>
          <li>#<a href="/articles/tag/pdp-8/">PDP-8</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
      </ul>
  </span>
</header>
<div>
  Before re-writable storage devices, such as tape drives, become popular for the DEC PDP-8, owners had to rely on paper tape.  This was fine for loading programs on pre-punched tape, but left the proble...
  &nbsp;
  <a class="readMore" href="/2009/06/16/a-quickstart-guide-to-editing-paper-tape-with-the-symbolic-tape-editor-on-the-dec-pdp-8/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/2009/05/26/emulating-a-dec-pdp8-with-simh/">Emulating a DEC PDP-8 with SimH</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/dec/">DEC</a></li>
          <li>#<a href="/articles/tag/emulation/">Emulation</a></li>
          <li>#<a href="/articles/tag/pdp-8/">PDP-8</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
          <li>#<a href="/articles/tag/simh/">SimH</a></li>
      </ul>
  </span>
</header>
<div>
  The DEC PDP-8 mini-computer was launched on 22 March 1965 and was a great success.  It was fairly cheap for the day and could easily be expanded.  What attracts me most to the PDP-8 is its simple desig...
  &nbsp;
  <a class="readMore" href="/2009/05/26/emulating-a-dec-pdp8-with-simh/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/2008/10/14/pdp-8-in-three-days-of-the-condor/">PDP-8 in 'Three Days of the Condor'</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/computersinmovies/">Computers in Movies</a></li>
          <li>#<a href="/articles/tag/dec/">DEC</a></li>
          <li>#<a href="/articles/tag/pdp-8/">PDP-8</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
      </ul>
  </span>
</header>
<div>
  I watched 'Three Days of the Condor' the other night and loved seeing what I believe is a Dec PDP 8/E being used.  Also featured in connection with this machine was a DecWriter, paper tape reader and p...
  &nbsp;
  <a class="readMore" href="/2008/10/14/pdp-8-in-three-days-of-the-condor/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/80-columns-in-software-on-the-commodore-vic-20/">80 Columns in Software on the Commodore VIC-20</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/commodore/">Commodore</a></li>
          <li>#<a href="/articles/tag/programming/">Programming</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
          <li>#<a href="/articles/tag/vic-20/">VIC-20</a></li>
      </ul>
  </span>
</header>
<div>
  If you have good eyesight, a well-tuned display and patience it is possible to use 80 columns in software on the VIC-20.  This is really just an experiment but considering the limitations of the Vic I ...
  &nbsp;
  <a class="readMore" href="/articles/80-columns-in-software-on-the-commodore-vic-20/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/64-columns-sideways-on-the-commodore-vic-20/">64 Column Text Mode on the Commodore VIC-20</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/commodore/">Commodore</a></li>
          <li>#<a href="/articles/tag/programming/">Programming</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
          <li>#<a href="/articles/tag/vic-20/">VIC-20</a></li>
      </ul>
  </span>
</header>
<div>
  With a little lateral thinking and by putting the television on its side we can create a 64 column sideways text mode on the VIC-20.  This article will demonstrate this and show how it is done.  Previo...
  &nbsp;
  <a class="readMore" href="/articles/64-columns-sideways-on-the-commodore-vic-20/">Read More</a>
</div>
<br />
</div>
    </div>

<script>
  if (isUserFromUK()) {
    document.write(amznBanner);
  }
</script>
    </div>

    <footer>
  <nav>
    <div class="container">
      <div>
        <strong>Legal:</strong>
        <a href="/terms/">T & C</a>, <a href="/privacy/">Privacy Policy</a>
        &nbsp;
        <strong>Misc:</strong>
        <a href="https://github.com/lawrencewoodman/techtinkering.com" title="Fork TechTinkering On GitHub ">GitHub</a>
        <script>
          if (isUserFromUK()) {
            document.write('<br /><strong>Disclosure:<' +'/strong> As an Amazon Associate TechTinkering earns from qualifying purchases.');
          }
        </script>
      </div>
    </div>
  </nav>
</footer>
  </body>
</html>