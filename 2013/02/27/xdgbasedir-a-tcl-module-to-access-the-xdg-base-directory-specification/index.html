<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>xdgbasedir: A Tcl Module to Access the XDG Base Directory Specification</title>
  <meta name="description" content="Unix has traditionally lacked a consistent way of storing user specific and system wide configuration and support files.  This has lead to a mess of dot files in">
  <meta name="keywords" content="Retro Vintage Programming Tinkering"/>

  <!-- *** Twitter Card *** -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@techtinkering">
  <meta name="twitter:title" content="xdgbasedir: A Tcl Module to Access the XDG Base Directory Specification">
  <meta name="twitter:description" content="Unix has traditionally lacked a consistent way of storing user specific and system wide configuration and support files.  This has lead to a mess of dot files in">
  <!-- *** Twitter Card *** -->

  <!-- *** Open Graph *** --->
  <meta property="og:type" content="website">
  <meta property="og:title" content="xdgbasedir: A Tcl Module to Access the XDG Base Directory Specification">
  <meta property="og:description" content="Unix has traditionally lacked a consistent way of storing user specific and system wide configuration and support files.  This has lead to a mess of dot files in">
  <meta property="og:url" content="https://techtinkering.com/2013/02/27/xdgbasedir-a-tcl-module-to-access-the-xdg-base-directory-specification/">
  <!-- *** Open Graph *** --->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-4388762-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-4388762-2');
  </script>

  <script>
    console.log('timeZone: '+Intl.DateTimeFormat().resolvedOptions().timeZone);
    function isUserFromUK() {
      return Intl.DateTimeFormat().resolvedOptions().timeZone == "Europe/London";
    }
  </script>

  <link href="/css/main.css" rel="stylesheet">
  <link href="/css/article.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" rel="stylesheet" type="text/css" />
  <link rel="canonical" href="https://techtinkering.com/2013/02/27/xdgbasedir-a-tcl-module-to-access-the-xdg-base-directory-specification/">
  <link rel="alternate" type="application/rss+xml" title="TechTinkering - Retro Computers, Programming, General Technical Tinkering"
        href="https://feedproxy.google.com/TechTinkering" />

	<!-- ****** faviconit.com favicons ****** -->
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<!-- ****** faviconit.com favicons ****** -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>

  <script>
    if (isUserFromUK()) {
      console.log("No Google ADs - UK user");
    } else {
      console.log("Google ADs - not from uk");
      document.write('<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"><' + '/script>');
    }
  </script>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <script>
    // Cookie Consent - https://cookieconsent.insites.com
    window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#252e39"
        },
        "button": {
          "background": "#14a7d0"
        }
      },
      "theme": "classic",
      "position": "top",
      "static": true,
      "content": {
        "message": "TechTinkering uses cookies for advertising, analytics, etc.",
        "href": "https://techtinkering.com/privacy/"
      }
    })});
  </script>

  <script>
    if (isUserFromUK()) {
      console.log("No Google Ads - uk user");
    } else {
      console.log("Google Ads - non-uk user");
      (adsbygoogle = window.adsbygoogle || []).push({
           google_ad_client: "ca-pub-1613732348909658",
           enable_page_level_ads: true
      });
    }
  </script>

  <script>
    if (isUserFromUK()) {
      console.log("Amazon Banner - from uk");
      // Amazon Prime Video Banner 728x90 and 300x250
      amznBanner='<div class="amazonBannerDesktop"><iframe src="https://rcm-eu.amazon-adsystem.com/e/cm?o=2&p=48&l=ur1&category=piv&banner=0E183RXMV88X6J8GJ002&f=ifr&linkID=a2c37aae0561f075af3356504493bdf0&t=techtinkering-21&tracking_id=techtinkering-21" width="728" height="90" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0" sandbox="allow-scripts allow-same-origin allow-popups allow-top-navigation-by-user-activation"><' + '/iframe><' +'/div><div class="amazonBannerMobile"><iframe src="https://rcm-eu.amazon-adsystem.com/e/cm?o=2&p=12&l=ur1&category=piv&banner=070GKT77WVHAHSRTHK02&f=ifr&linkID=0dc57b53bcc8f7ab67a385d51155e57a&t=techtinkering-21&tracking_id=techtinkering-21" width="300" height="250" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0" sandbox="allow-scripts allow-same-origin allow-popups allow-top-navigation-by-user-activation"><' + '/iframe><' + '/div>';
    }
  </script>
</head>
  <body>
    <nav>
  <div class="container">
    <div class="navbar-header">
      <a href="/">TechTinkering</a><br />
      =============
    </div>

    <div class="contact">
      <ul>
        <li>
          <a href="https://twitter.com/TechTinkering" title="@TechTinkering on Twitter">Twitter</a>
        </li>
        <li>
          <a href="https://youtube.com/techtinkering" title="TechTinkering's YouTube Channel">YouTube</a>
        </li>
        <li>
          <a href="https://feeds.feedburner.com/TechTinkering" title="Subscribe to our RSS Feed">RSS</a>
        </li>
        <li>
          <a href="mailto:techtinkering@vlifesystems.com" title="Email us, we'd love to hear from you">Email</a>
        </li>
        <li>
          <a href="/useful-links/" title="Useful vintage computer links">Useful Links</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div id="content" class="container">
      <div class="margin-buffer">
    <article itemscope itemtype="http://schema.org/BlogPosting">
      <header>
        <a href="/2013/02/27/xdgbasedir-a-tcl-module-to-access-the-xdg-base-directory-specification/" title="xdgbasedir: A Tcl Module to Access the XDG Base Directory Specification">
          <h1 itemprop="headline name">xdgbasedir: A Tcl Module to Access the XDG Base Directory Specification</h1>
        </a>
        <div>
            <time itemprop="datePublished"
                  datetime="2013-02-27">
              27 February 2013
            </time>
          <span itemscope itemprop="publisher"
                itemtype="http://schema.org/Organization">
            <meta itemprop="name" content="TechTinkering" />
            <meta itemprop="url" content="https://techtinkering.com" />
          </span>
          <span itemscope itemprop="author" itemtype="http://schema.org/Person">
            <a rel="author" itemprop="url" href="https://lawrencewoodman.github.io">
              <span itemprop="name">Lawrence Woodman</span>
            </a>
          </span>

          <ul class="tags">
              <li>#<a href="/articles/tag/programming/">Programming</a></li>
              <li>#<a href="/articles/tag/tcl/">Tcl</a></li>
          </ul>
        </div>
      </header>
        <div itemprop="articleBody">
        <p>Unix has traditionally lacked a consistent way of storing user specific and system wide configuration and support files.  This has lead to a mess of dot files in a user's home directory and other associated files being all over the file system.  The <a href="http://standards.freedesktop.org/basedir-spec/latest/index.html">XDG Base Directory Specification</a> describes a simple and clean way to locate these files across all Unix-like systems.  The <code>xdgbasedir</code> module allows you to easily access this specification from Tcl.</p>
<h2>Why Use the XDG Base Directory Specification?</h2>
<p>By storing an applications files using this spec. it makes it much easier for the user to find the files associated with your application so that they can edit and back them up.  For the application, it makes it much easier to work with files in a consistent manner on whichever Unix platform it is running.</p>
<p>Ultimately the spec. allows you to turn this:</p>
<pre><code class="language-text">.                     Downloads           .lives            .scummvm
..                    .fontconfig         .lives-dir        .scummvmrc
.android              .FontForge          livestmp          .sitecopy
.aptitude             .gcjwebplugin       .local            .sitecopyrc
archive               .gconf              .lyrics           .slrnrc
.avm                  .gconfd             .mbox             .ssh
.balazar              .gegl-0.0           .mcoprc           .synaptic
.bash_history         .gem                .mess             .tdfsb
.bash_logout          .gitconfig          .metacity         Templates
.bash_profile         .gitk               Music             .themes
.bashrc               .gnash              .nexuiz           .thumbnails
.bochsrc              .gnome              .openMSX          .tremulous
.bogofilter           .gnome2             .openoffice.org   .tsclient
.bundler              gpodder-downloads   .orbit            .tvtime
.cache                .gramps             .pan2             Video
.Catapult             .gtkrc-1.2-gnome2   .pcmanx           .vim
.cgobanrc             .gtwitter           Pictures          .viminfo
.civserver_history    .gvfs               .pingus           .vimrc
.config               .gvimrc             Podcasts          .vlc
.conky                .hplip              Public            .w3m
.conkyrc              .ICEauthority       .purple           .wapi
.corewars             .icons              .q3a              .wmii
data                  .inkscape           .qt               .wmii-3.5
.dbus                 .irb-history        retro_archive     .Xauthority
Desktop               .jigdo-lite         retro             .xawtv
dev                   .libreoffice        rtb               .xchat2
.dmenu_cache          .liferea            .rvm
.dmrc                 .lincity            .sane
Documents             .liquidwarrc        .scorched3d
</code></pre>
<p>Into this:</p>
<pre><code class="language-text">.         .config   Documents           Music      retro
..        data      Downloads           Pictures   retro_archive
archive   Desktop   gpodder-downloads   Public     Templates
.cache    dev       .local              Podcasts   Videos
</code></pre>
<h2>How Should I Locate Files Using the Specification?</h2>
<p>A brief explanation of the spec. follows, for more look at the <a href="http://standards.freedesktop.org/basedir-spec/latest/index.html">XDG Base Directory Specification</a> recommended by <a href="http://www.freedesktop.org">freedesktop.org</a>.</p>
<p>The specification uses six environmental variables to locate files.  These are:</p>
<table class="neatTable">
  <tr><th><code>$XDG_DATA_HOME</code></th><td>For user-specific data files.</td></tr>
  <tr><th><code>$XDG_CONFIG_HOME</code></th><td>For user-specific configuration files.</td></tr>
  <tr><th><code>$XDG_CACHE_HOME</code></th><td>For user-specific non-essential data.</td></tr>
  <tr><th><code>$XDG_RUNTIME_DIR</code></th><td>For user-specific runtime files.</td></tr>
  <tr><th><code>$XDG_DATA_DIRS</code></th><td>A list of directories, in order of preference, which should be searched for data files.</td></tr>
  <tr><th><code>$XDG_CONFIG_DIRS</code></th><td>A list of directories, in order of preference, which should be searched for configuration files.</td></tr>
</table>
<br />
<p>For each directory or for each directory in the list of directories (in the case of the environmental variables ending with <code>_DIRS</code>), you would normally append the name of your application.  So for example if the <code>$XDG_DATA_HOME</code> variable returned <code>~/.local/share</code>, and your application was called <code>myapp</code>, you should look in <code>~/.local/share/myapp/</code> for that application's user-specific data files.</p>
<h2>The <em>xdgbasedir</em> module for Tcl</h2>
<p>To ease working with the XDG Base Directory Specification from Tcl, I created the <a href="https://github.com/LawrenceWoodman/xdgbasedir_tcl">xdgbasedir</a> module.</p>
<p>To access the XDG directories you would typically specify the subdirectory that these directories will be relative to. The subdirectory is normally the name of the application, <code>myapp</code> in this example:</p>
<pre><code class="language-tcl">package require xdgbasedir

puts &quot;XDG_DATA_HOME: [XDG::DATA_HOME myapp]&quot;
puts &quot;XDG_CACHE_HOME: [XDG::CACHE_HOME myapp]&quot;
puts &quot;XDG_CONFIG_HOME: [XDG::CONFIG_HOME myapp]&quot;

puts &quot;XDG_RUNTIME_DIR: [XDG::RUNTIME_DIR myapp]&quot;
puts &quot;XDG_DATA_DIRS: [XDG::DATA_DIRS myapp]&quot;
puts &quot;XDG_CONFIG_DIRS: [XDG::CONFIG_DIRS myapp]&quot;
</code></pre>
<p>The <code>XDG</code> procs ending in <code>_DIRS</code> return a list of directories in order of preference.</p>
<h2>Getting <em>xdgbasedir</em></h2>
<p>You can download <code>xdgbasedir</code> from the <a href="https://github.com/LawrenceWoodman/xdgbasedir_tcl/tags">archive</a> page on github, and read the installation instructions in the <a href="https://github.com/LawrenceWoodman/xdgbasedir_tcl/blob/master/README.md">README.md</a> file.</p>
      </div>
    </article>
</div>

<script>
  if (isUserFromUK()) {
    document.write(amznBanner);
  }
</script>

  <div id="cclicence">
    <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
      <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
    </a>
    <br />
    <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">xdgbasedir: A Tcl Module to Access the XDG Base Directory Specification</span>
    by <a xmlns:cc="http://creativecommons.org/ns#" href="https://techtinkering.com/2013/02/27/xdgbasedir-a-tcl-module-to-access-the-xdg-base-directory-specification/" property="cc:attributionName" rel="cc:attributionURL">Lawrence Woodman</a>
   is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
   
  </div>


  <div class="discuss">
    <h2 style="margin-top:0;">Share This Post</h2>
    <div class="contact">
  <ul>
    <li><a href="http://www.reddit.com/submit?url=https%3A%2F%2Ftechtinkering.com%2F2013%2F02%2F27%2Fxdgbasedir-a-tcl-module-to-access-the-xdg-base-directory-specification%2F&title=xdgbasedir%3A%20A%20Tcl%20Module%20to%20Access%20the%20XDG%20Base%20Directory%20Specification" target="_blank" title="Submit to Reddit">Reddit</a></li>
    <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ftechtinkering.com%2F2013%2F02%2F27%2Fxdgbasedir-a-tcl-module-to-access-the-xdg-base-directory-specification%2F&quote=xdgbasedir%3A%20A%20Tcl%20Module%20to%20Access%20the%20XDG%20Base%20Directory%20Specification" target="_blank" title="Share on Facebook">Facebook</a></li>
    <li><a href="https://twitter.com/intent/tweet?source=https%3A%2F%2Ftechtinkering.com%2F2013%2F02%2F27%2Fxdgbasedir-a-tcl-module-to-access-the-xdg-base-directory-specification%2F&text=xdgbasedir%3A%20A%20Tcl%20Module%20to%20Access%20the%20XDG%20Base%20Directory%20Specification:%0Ahttps%3A%2F%2Ftechtinkering.com%2F2013%2F02%2F27%2Fxdgbasedir-a-tcl-module-to-access-the-xdg-base-directory-specification%2F&via=TechTinkering" target="_blank" title="Tweet">Twitter</a></li>
    <li><a href="mailto:?subject=xdgbasedir%3A%20A%20Tcl%20Module%20to%20Access%20the%20XDG%20Base%20Directory%20Specification&body=Unix%20has%20traditionally%20lacked%20a%20consistent%20way%20of%20storing%20user%20specific%20and%20system%20wide%20configuration%20and%20support%20files.%20%20This%20has%20lead%20to%20a%20mess%20of%20dot%20files%20in%20a%20user%27s%20home%20directory%20and%20other%20assoc...:%0A%0Ahttps%3A%2F%2Ftechtinkering.com%2F2013%2F02%2F27%2Fxdgbasedir-a-tcl-module-to-access-the-xdg-base-directory-specification%2F" target="_blank" title="Send email">Email</a></li>
  </ul>
</div>

    <h2>Feedback/Discuss</h2>
    <div class="contact">
  <ul>


    <li><a href="mailto:techtinkering@vlifesystems.com?subject=Comment:%20xdgbasedir%3A%20A%20Tcl%20Module%20to%20Access%20the%20XDG%20Base%20Directory%20Specification&body=Article%20URL:%20https%3A%2F%2Ftechtinkering.com%2F2013%2F02%2F27%2Fxdgbasedir-a-tcl-module-to-access-the-xdg-base-directory-specification%2F%0A" title="Send us an email">Email</a></li>
  </ul>
</div>
  </div>


    <div>
    <h2>Related Articles</h2>
    <div class="margin-buffer">
      <header>
  <h2><a href="/articles/introducing-ornament-a-tcl-template-module/">Introducing Ornament a Tcl Template Module</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/ornament/">Ornament</a></li>
          <li>#<a href="/articles/tag/programming/">Programming</a></li>
          <li>#<a href="/articles/tag/tcl/">Tcl</a></li>
      </ul>
  </span>
</header>
<div>
  Ornament is a Tcl template module that allows you to define, parse and compile a template to produce a script which can then be run using a safe interpreter.  The idea came from the Templates and subst...
  &nbsp;
  <a class="readMore" href="/articles/introducing-ornament-a-tcl-template-module/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/2013/02/20/compiling-a-tcl-script-into-an-executable/">Compiling a Tcl Script into an Executable</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/c/">C</a></li>
          <li>#<a href="/articles/tag/programming/">Programming</a></li>
          <li>#<a href="/articles/tag/tcl/">Tcl</a></li>
      </ul>
  </span>
</header>
<div>
  Locating Tcl scripts to load from an executable can be awkward if you want to make your program cross-platform.  An easier way is to compile a Tcl script directly into the executable and let that scrip...
  &nbsp;
  <a class="readMore" href="/2013/02/20/compiling-a-tcl-script-into-an-executable/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/2012/06/26/embedding-an-sdl-surface-in-a-tk-window/">Embedding an SDL Surface in a Tk Window</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/programming/">Programming</a></li>
          <li>#<a href="/articles/tag/sdl/">SDL</a></li>
          <li>#<a href="/articles/tag/tcl/">Tcl</a></li>
          <li>#<a href="/articles/tag/tk/">Tk</a></li>
      </ul>
  </span>
</header>
<div>
  Tk is great, but sometimes it just isn't fast enough.  SDL is fast, but has no support for input dialogs and other GUI conventions.  By embedding an SDL surface in a Tk window you get the best of both ...
  &nbsp;
  <a class="readMore" href="/2012/06/26/embedding-an-sdl-surface-in-a-tk-window/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/80-columns-in-software-on-the-commodore-vic-20/">80 Columns in Software on the Commodore VIC-20</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/commodore/">Commodore</a></li>
          <li>#<a href="/articles/tag/programming/">Programming</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
          <li>#<a href="/articles/tag/vic-20/">VIC-20</a></li>
      </ul>
  </span>
</header>
<div>
  If you have good eyesight, a well-tuned display and patience it is possible to use 80 columns in software on the VIC-20.  This is really just an experiment but considering the limitations of the Vic I ...
  &nbsp;
  <a class="readMore" href="/articles/80-columns-in-software-on-the-commodore-vic-20/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/64-columns-sideways-on-the-commodore-vic-20/">64 Column Text Mode on the Commodore VIC-20</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/commodore/">Commodore</a></li>
          <li>#<a href="/articles/tag/programming/">Programming</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
          <li>#<a href="/articles/tag/vic-20/">VIC-20</a></li>
      </ul>
  </span>
</header>
<div>
  With a little lateral thinking and by putting the television on its side we can create a 64 column sideways text mode on the VIC-20.  This article will demonstrate this and show how it is done.  Previo...
  &nbsp;
  <a class="readMore" href="/articles/64-columns-sideways-on-the-commodore-vic-20/">Read More</a>
</div>
<br />
</div>
    </div>

<script>
  if (isUserFromUK()) {
    document.write(amznBanner);
  }
</script>
    </div>

    <footer>
  <nav>
    <div class="container">
      <div>
        <script>
          if (isUserFromUK()) {
            document.write('<strong>Disclosure:<' +'/strong> As an Amazon Associate TechTinkering earns from qualifying purchases.<br />');
          }
        </script>
        <strong>Legal:</strong>
        <a href="/terms/">T & C</a>, <a href="/privacy/">Privacy Policy</a>
        &nbsp;
        <strong>Misc:</strong>
        <a href="https://github.com/lawrencewoodman/techtinkering.com" title="Fork TechTinkering On GitHub ">GitHub</a>
      </div>
    </div>
  </nav>
</footer>
  </body>
</html>