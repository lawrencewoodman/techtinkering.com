<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Mida - A Microdata parser/extractor library for Ruby</title>
  <meta name="description" content="I have recently released Mida as a Gem for parsing/extracting Microdata from web pages.  Not many sites at the moment are using Microdata, in fact, apart from th">
  <meta name="keywords" content="Retro Vintage Programming Tinkering"/>

  <!-- *** Twitter Card *** -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@techtinkering">
  <meta name="twitter:title" content="Mida - A Microdata parser/extractor library for Ruby">
  <meta name="twitter:description" content="I have recently released Mida as a Gem for parsing/extracting Microdata from web pages.  Not many sites at the moment are using Microdata, in fact, apart from th">
  <!-- *** Twitter Card *** -->

  <!-- *** Open Graph *** --->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Mida - A Microdata parser/extractor library for Ruby">
  <meta property="og:description" content="I have recently released Mida as a Gem for parsing/extracting Microdata from web pages.  Not many sites at the moment are using Microdata, in fact, apart from th">
  <meta property="og:url" content="http://techtinkering.com/2011/04/16/mida-a-microdata-parser-extractor-library-for-ruby/">
  <!-- *** Open Graph *** --->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-4388762-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-4388762-2');
  </script>

  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/prism.css" rel="stylesheet">
  <link href="/css/main.css" rel="stylesheet">
  <link href="/css/extra.css" rel="stylesheet">
  <link href="/css/article.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" rel="stylesheet" type="text/css" />
  <link rel="canonical" href="http://techtinkering.com/2011/04/16/mida-a-microdata-parser-extractor-library-for-ruby/">
  <link rel="alternate" type="application/rss+xml" title="TechTinkering - Retro Computers, Programming, General Technical Tinkering"
        href="http://feedproxy.google.com/TechTinkering" />

	<!-- ****** faviconit.com favicons ****** -->
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<!-- ****** faviconit.com favicons ****** -->

  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

  <script src="/js/jquery-3.3.1.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <script src="/js/prism.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <script>
    // Cookie Consent - https://cookieconsent.insites.com
    window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#252e39"
        },
        "button": {
          "background": "#14a7d0"
        }
      },
      "theme": "classic",
      "position": "top",
      "static": true,
      "content": {
        "message": "TechTinkering uses cookies for advertising, analytics, etc.",
        "href": "http://techtinkering.com/privacy/"
      }
    })});
  </script>

  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
         google_ad_client: "ca-pub-1613732348909658",
         enable_page_level_ads: true
    });
  </script>
</head>
  <body>
    <nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">TechTinkering</a>
    </div>

    <div id="navbar" class="collapse navbar-collapse navbar-right">
      <ul class="nav navbar-nav navbar-right contact-buttons">
        <li>
          <!-- From: http://www.buttonshut.com/Get-Button-Huts-Code/Twitter-Buttons-1124.html -->
          <a href="http://twitter.com/TechTinkering" title="@TechTinkering on Twitter">
            <img class="bannerIcon" src="/images/twitter-button-36.png" alt="@techtinkering on Twitter"/>
          </a>
        </li>
        <li>
          <!-- From: http://www.buttonshut.com/Get-Button-Huts-Code/Youtube-Buttons-831.html -->
          <a href="http://youtube.com/techtinkering" title="TechTinkering's YouTube Channel">
            <img class="bannerIcon" src="/images/youtube-small-square-32.png" alt="YouTube Channel"/>
          </a>
        </li>
        <li>
          <!-- From: http://www.graphicsfuel.com/2011/05/email-icon-psd/ -->
          <a href="mailto:techtinkering@vlifesystems.com" title="Email us, we'd love to hear from you">
            <img class="bannerIcon" src="/images/email.png" alt="Email"/>
          </a>
        </li>
        <li>
          <a href="https://github.com/lawrencewoodman/techtinkering.com" title="Fork TechTinkering On GitHub ">
            <img class="bannerIcon" src="/images/octocat_fluid.png" "TechTinkering Repo on GitHub"/>
          </a>
        </li>
        <li>
          <a href="http://feeds.feedburner.com/TechTinkering" title="Subscribe to our RSS Feed">
            <img class="bannerIcon" src="/images/feed-icon-28x28.png" alt="RSS Feed"/>
          </a>
        </li>
      </ul>

    </div><!--/.nav-collapse -->
  </div>
</nav>
    <div id="content" class="container">
      <div class="row margin-buffer">
  <div class="col-md-12">
    <article itemscope itemtype="http://schema.org/BlogPosting">
      <header>
        <a href="/2011/04/16/mida-a-microdata-parser-extractor-library-for-ruby/" title="Mida - A Microdata parser/extractor library for Ruby">
          <h1 itemprop="headline name">Mida - A Microdata parser/extractor library for Ruby</h1>
        </a>
        <div class="pull-right">
          <ul class="share-buttons">
  <li><a href="https://twitter.com/intent/tweet?source=http%3A%2F%2Ftechtinkering.com&text=:%20http%3A%2F%2Ftechtinkering.com&via=TechTinkering" target="_blank" title="Tweet" onclick="window.open('https://twitter.com/intent/tweet?text=' + encodeURIComponent(document.title) + ':%20'  + encodeURIComponent(document.URL)); return false;"><img alt="Tweet" src="/img/social_flat_rounded_rects_svg/Twitter.svg" /></a></li>
  <li><a href="http://www.reddit.com/submit?url=http%3A%2F%2Ftechtinkering.com&title=" target="_blank" title="Submit to Reddit" onclick="window.open('http://www.reddit.com/submit?url=' + encodeURIComponent(document.URL) + '&title=' +  encodeURIComponent(document.title)); return false;"><img alt="Submit to Reddit" src="/img/social_flat_rounded_rects_svg/Reddit.svg" /></a></li>
  <li><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Ftechtinkering.com&quote=" title="Share on Facebook" target="_blank" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(document.URL) + '&quote=' + encodeURIComponent(document.URL)); return false;"><img alt="Share on Facebook" src="/img/social_flat_rounded_rects_svg/Facebook.svg" /></a></li>
  <li><a href="mailto:?subject=&body=:%20http%3A%2F%2Ftechtinkering.com" target="_blank" title="Send email" onclick="window.open('mailto:?subject=' + encodeURIComponent(document.title) + '&body=' +  encodeURIComponent(document.URL)); return false;"><img alt="Send email" src="/img/social_flat_rounded_rects_svg/Email.svg" /></a></li>
</ul>
        </div>
          <time itemprop="datePublished"
                datetime="2011-04-16">
            16 April 2011
          </time>
          &nbsp; / &nbsp;
        <span itemscope itemprop="publisher"
              itemtype="http://schema.org/Organization">
          <meta itemprop="name" content="TechTinkering" />
          <meta itemprop="url" content="http://techtinkering.com" />
        </span>
        <span itemscope itemprop="author" itemtype="http://schema.org/Person">
          <a rel="author" itemprop="url" href="https://lawrencewoodman.github.io">
            <span itemprop="name">Lawrence Woodman</span>
          </a>
        </span>
        &nbsp; / &nbsp;
          <a href="/articles/tag/library/">Library</a>
          &nbsp; &nbsp;
          <a href="/articles/tag/microdata/">Microdata</a>
          &nbsp; &nbsp;
          <a href="/articles/tag/ruby/">Ruby</a>
          &nbsp; &nbsp;
      </header>
      <br />
      <div itemprop="articleBody">
        <p>I have recently released <a href="http://lawrencewoodman.github.com/mida/" title="Mida Project Page">Mida</a> as a Gem for parsing/extracting <a href="http://en.wikipedia.org/wiki/Microdata_%28HTML5%29">Microdata</a> from web pages.  Not many sites at the moment are using Microdata, in fact, apart from this site, I only know of one other: <a href="http://trustafriend.com">Trust a Friend</a>, which is another site that I work on.  However, as HTML5 is more widely adopted I am sure that this will change and Mida will become more useful.</p>
<h2>Microdata</h2>
<p>Microdata is part of the upcoming HTML5 standard and is a way to label the
content on web pages so that it is machine readable.  I prefer this
to its main rival, Microformats, because it is simpler to implement, though
I do recognize that this can lead to its being more imprecise.</p>
<p>As an example, the following html is marked-up with Microdata:</p>
<pre><code class="language-html">&lt;div itemscope itemtype=&quot;http://data-vocabulary.org/Product&quot;
     itemid=&quot;urn:isbn:1-86207-839-4&quot;&gt;
  &lt;h2 itemprop=&quot;name&quot;&gt;Electronic Brains: Stories from the Dawn of the Computer Age&lt;/h2&gt;
  By &lt;span itemprop=&quot;brand&quot;&gt;Mike Hally&lt;/span&gt;
  &lt;meta itemprop=&quot;category&quot; content=&quot;Media &gt; Books &gt; Non-Fiction &gt; Computer Books&quot; /&gt;
  &lt;meta itemprop=&quot;identifier&quot; content=&quot;isbn:1-86207-839-4&quot; /&gt;

  &lt;div itemprop=&quot;review&quot; itemscope itemtype=&quot;http://data-vocabulary.org/Review&quot;&gt;
    &lt;h3 itemprop=&quot;summary&quot;&gt;Great short history of early computers&lt;/h3&gt;
    Rated &lt;span itemprop=&quot;rating&quot;&gt;5.0&lt;/span&gt;/5.0 by
    &lt;span itemprop=&quot;reviewer&quot;&gt;Lawrence Woodman&lt;/span&gt; on
    &lt;time itemprop=&quot;dtreviewed&quot; datetime=&quot;2009-06-03&quot;&gt;3rd March 2009&lt;/time&gt;
    &lt;div itemprop=&quot;description&quot;&gt;
      While reading this I came across quite a few surprises, such as the early
      successes in Australia. There is also a chapter on Remington Rand's Rand
      409, another early computer which I don't think has been covered much elsewhere.
      Finally it tries to explain how IBM became the market leader despite its late entry
      into the field.
   &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p>If the above were parsed it would yield the following information:</p>
<pre><code class="language-yaml">{
  :type =&gt; &quot;http://data-vocabulary.org/Product&quot;,
  :id =&gt; &quot;urn:isbn:1-86207-839-4&quot;,
  :properties =&gt; {
    &quot;name&quot; =&gt; [&quot;Electronic Brains: Stories from the Dawn of the Computer Age&quot;],
    &quot;brand&quot; =&gt; [&quot;Mike Hally&quot;],
    &quot;category&quot; =&gt; [&quot;Media &gt; Books &gt; Non-Fiction &gt; Computer Books&quot;],
    &quot;identifier&quot; =&gt; [&quot;isbn:1-86207-839-4&quot;],
    &quot;review&quot; =&gt; [{
      :type =&gt; &quot;http://data-vocabulary.org/Review&quot;,
      :id =&gt; nil,
      :properties =&gt; {
        &quot;summary&quot; =&gt; [&quot;Great short history of early computers&quot;],
        &quot;rating&quot; =&gt; [&quot;5.0&quot;],
        &quot;reviewer&quot; =&gt; [&quot;Lawrence Woodman&quot;],
        &quot;dtreviewed&quot; =&gt; [&quot;2009-06-03&quot;],
        &quot;description&quot; =&gt; [
          &quot;While reading this I came across quite a few surprises, such as the early
          successes in Australia. There is also a chapter on Remington Rand's Rand
          409, another early computer which I don't think has been covered much elsewhere.
          Finally it tries to explain how IBM became the market leader despite its late
          entry into the field.&quot;
        ]
      }
    }]
  }
}
</code></pre>
<h2>Installation</h2>
<p>I have made a Gem for Mida and hosted it on <a href="http://rubygems.org">RubyGems</a>, so installation is as easy as:</p>
<pre><code class="language-bash">gem install mida
</code></pre>
<h2>Usage</h2>
<p>Mida is very easy to use as the following examples illustrate.  They all
assume that you have required <code>mida</code> and <code>open-uri</code>.
This is the current usage and is likely to change, so please see the RDocs for
the current version.</p>
<h3>Extracting Microdata from a page</h3>
<p>All the Microdata is extracted from a page when a new <code>Mida::Document</code> instance is created.</p>
<p>To extract all the Microdata from a webpage:</p>
<pre><code class="language-ruby">url = 'http://example.com'
open(url) {|f| doc = Mida::Document.new(f, url)}
</code></pre>
<p>The top-level Items will be held in an <code>Array</code> accessible via <code>doc.items</code>.</p>
<p>To simply list all the top-level Items that have been found:</p>
<pre><code class="language-ruby">puts doc.items
</code></pre>
<h3>Searching</h3>
<p>If you want to search for an Item that has a specific itemtype/vocabulary this
can be done with the <code>search</code> method.</p>
<p>To return all the Items that use one of Googleâ€™s Review vocabularies:</p>
<pre><code class="language-ruby">doc.search(%r{http://data-vocabulary\.org.*?review.*?}i)
</code></pre>
<h3>Inspecting an Item</h3>
<p>Each Item is a <code>Mida::Item</code> instance and has three main methods of interest, <code>type</code>, <code>properties</code> and <code>id</code>.</p>
<p>To find out the itemtype of the Item:</p>
<pre><code class="language-ruby">puts doc.items.first.type
</code></pre>
<p>To find out the itemid of the Item:</p>
<pre><code class="language-ruby">puts doc.items.first.id
</code></pre>
<p>Properties are returned as a <code>Hash</code> containing name/values pairs. The values will be an <code>Array</code> of either <code>String</code> or <code>Mida::Item</code> instances.</p>
<p>To see the properties of the Item:</p>
<pre><code class="language-ruby">puts doc.items.first.properties
</code></pre>
<h2>Contributing</h2>
<p>Mida is still in the early stages and much is likely to change.  If you would like to contribute to the project, the source is hosted on <a href="https://github.com/LawrenceWoodman/mida" title="Mida's repository on GitHub">Github</a>.  The best place to raise ideas/bugs/feature requests is on <a href="https://github.com/LawrenceWoodman/mida/issues">Mida's Issues</a> page.</p>
      </div>
    </article>
  </div>
</div>

  <div class="row">
    <div class="col-md-12">
      <div id="cclicence">
        <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
          <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
        </a>
        <br />
        <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Mida - A Microdata parser/extractor library for Ruby</span>
        by <a xmlns:cc="http://creativecommons.org/ns#" href="http://techtinkering.com/2011/04/16/mida-a-microdata-parser-extractor-library-for-ruby/" property="cc:attributionName" rel="cc:attributionURL">Lawrence Woodman</a>
       is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
      </div>
    </div>
  </div>

    <div class="row">
      <div class="col-md-12">
        <h2>Related Articles</h2>
      </div>
    </div>
    <div class="row margin-buffer">
  <div class="col-md-12">
        <header>
  <h3><a href="/2011/09/08/pisceans-and-october-babies-more-likely-to-become-poets/">Pisceans and October Babies More Likely to Become Poets.  Scraping Wikipedia Reveals All</a></h3>
  <span class="post-meta">
      <time datetime="2011-09-08">
         8 September 2011
      </time>
      &nbsp; / &nbsp;
      <a href="/articles/tag/javascript/">JavaScript</a>
      &nbsp; &nbsp;
      <a href="/articles/tag/ruby/">Ruby</a>
      &nbsp; &nbsp;
      <a href="/articles/tag/webscraping/">Web Scraping</a>
      &nbsp; &nbsp;
  </span>
</header>
<div>
  This is the second in a series of articles looking into whether when you were born affects your future.  In the previous article I looked at Nobel laureates, which are, of course, from a range of field...
  &nbsp;
  <a class="readMore" href="/2011/09/08/pisceans-and-october-babies-more-likely-to-become-poets/">Read More</a>
</div>
        <header>
  <h3><a href="/2011/08/24/does-when-you-were-born-affect-your-chance-of-becoming-a-nobel-laureate/">Does When You Were Born Affect Your Chance of Becoming a Nobel Laureate? Scraping Wikipedia to Find Out</a></h3>
  <span class="post-meta">
      <time datetime="2011-08-24">
        24 August 2011
      </time>
      &nbsp; / &nbsp;
      <a href="/articles/tag/ruby/">Ruby</a>
      &nbsp; &nbsp;
      <a href="/articles/tag/webscraping/">Web Scraping</a>
      &nbsp; &nbsp;
  </span>
</header>
<div>
  There has been a lot of talk in the UK recently about whether when you were born affects your schooling.  Lots of teachers have noticed how pupils born at the end of the Summer often struggle compared ...
  &nbsp;
  <a class="readMore" href="/2011/08/24/does-when-you-were-born-affect-your-chance-of-becoming-a-nobel-laureate/">Read More</a>
</div>
        <header>
  <h3><a href="/2011/08/17/improving-related-posts-on-jekyll/">Improving the related_posts feature of jekyll</a></h3>
  <span class="post-meta">
      <time datetime="2011-08-17">
        17 August 2011
      </time>
      &nbsp; / &nbsp;
      <a href="/articles/tag/jekyll/">Jekyll</a>
      &nbsp; &nbsp;
      <a href="/articles/tag/ruby/">Ruby</a>
      &nbsp; &nbsp;
      <a href="/articles/tag/webdevelopment/">Web Development</a>
      &nbsp; &nbsp;
  </span>
</header>
<div>
  Now that I have converted TechTinkering over to Jekyll, I have come up against a bit of a problem with site.related_posts: The results are always just the latest posts, and are not filtered or ordered ...
  &nbsp;
  <a class="readMore" href="/2011/08/17/improving-related-posts-on-jekyll/">Read More</a>
</div>
        <header>
  <h3><a href="/2011/02/15/a-jekyll-plugin-to-display-ratings-as-star-images/">A Jekyll Plugin to Display Ratings as Star Images</a></h3>
  <span class="post-meta">
      <time datetime="2011-02-15">
        15 February 2011
      </time>
      &nbsp; / &nbsp;
      <a href="/articles/tag/jekyll/">Jekyll</a>
      &nbsp; &nbsp;
      <a href="/articles/tag/liquid/">Liquid</a>
      &nbsp; &nbsp;
      <a href="/articles/tag/ruby/">Ruby</a>
      &nbsp; &nbsp;
      <a href="/articles/tag/webdevelopment/">Web Development</a>
      &nbsp; &nbsp;
  </span>
</header>
<div>
  I have been using Jekyll a lot recently on the Trust a Friend website and found the need to display a rating as a series of stars.  Initially I implemented this in JavaScript, which worked fine, but I ...
  &nbsp;
  <a class="readMore" href="/2011/02/15/a-jekyll-plugin-to-display-ratings-as-star-images/">Read More</a>
</div>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <form id="email-subscribe" action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=TechTinkering', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
  <p>Sign up to get new articles straight to your inbox.</p>
  <p><input type="text" style="width:180px" name="email" placeholder="Email address"/>
  <input type="hidden" value="TechTinkering" name="uri"/>
  <input type="hidden" name="loc" value="en_US"/>
  <input class="subscribe-button" type="submit" value="Subscribe" /></p>
  <p>Delivered by <a href="https://feedburner.google.com" target="_blank">FeedBurner</a></p>
</form>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <h2>Comments</h2>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'techtinkering';
      var disqus_identifier = '/2011/04/16/mida-a-microdata-parser-extractor-library-for-ruby/';
      var disqus_url = 'http://techtinkering.com/2011/04/16/mida-a-microdata-parser-extractor-library-for-ruby/';

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="https://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</div>
    </div>

    <footer>
  <nav class="navbar navbar-default">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <strong>Legal:</strong> &nbsp;
          <a href="/terms/">T & C</a>, &nbsp; &nbsp;
          <a href="/privacy/">Privacy Policy</a>
        </div>
      </div>
    </div>
  </nav>
</footer>
  </body>
</html>