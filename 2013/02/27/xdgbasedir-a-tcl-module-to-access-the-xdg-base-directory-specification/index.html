<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

  <title>xdgbasedir: A Tcl Module to Access the XDG Base Directory Specification</title>

  <title>xdgbasedir: A Tcl Module to Access the XDG Base Directory Specification</title>
  <meta name="description" content="Unix has traditionally lacked a consistent way of storing user specific and system wide configuration and support files.  This has lead to a mess of dot file...">

  <meta name="keywords" content="Retro Vintage Programming Tinkering"/>

  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/sitestyle.css" rel="stylesheet">
  <link href="/css/html_pygments.css" rel="stylesheet">

  <link rel="canonical" href="/2013/02/27/xdgbasedir-a-tcl-module-to-access-the-xdg-base-directory-specification/">
  <link rel="alternate" type="application/rss+xml" title="Techtinkering RSS Feed" href="http://feedproxy.google.com/TechTinkering" />

  <!-- Fix for ie 5&6 where id doesnt render transparent images properly-->
  <!--[if lte IE 6]>
    <script defer type="text/javascript" src="/js/pngfix.js"></script>
  <![endif]-->

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="/js/html5shiv.3.7.2.min.js"></script>
    <script src="/js/respond.1.4.2.min.js"></script>
  <![endif]-->

  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=vlifesystems"></script>

  <!-- Begin Cookie Consent plugin by Silktide - http://silktide.com/cookieconsent -->
  <script type="text/javascript">
      window.cookieconsent_options = {"message":"This website uses cookies to ensure you get the best experience on our website","dismiss":"Got it!","learnMore":"More info","link":"/tandc/#privacy","theme":"dark-bottom"};
  </script>

  <script type="text/javascript" src="//s3.amazonaws.com/cc.silktide.com/cookieconsent.latest.min.js"></script>
  <!-- End Cookie Consent plugin -->
</head>


  <body>
    <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">TechTinkering</a>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li
        
        ><a href="/">Home</a></li>

        <li
        
        ><a href="/archive">Archive</a></li>

        

        

        

        

        

        <li
        
        ><a href="/about">About</a></li>
      </ul>

      <a href="http://feedproxy.google.com/TechTinkering" title="Subscribe to TechTinkering's RSS Feed">
        <img class="bannerIcon" src="/images/feed-icon-28x28.png" alt="RSS Feed"/>
      </a>

      <!-- From: http://www.buttonshut.com/Get-Button-Huts-Code/Youtube-Buttons-831.html -->
      <a href="http://youtube.com/techtinkering" title="TechTinkering's YouTube Channel">
        <img class="bannerIcon" src="/images/youtube-small-square-32.png" alt="YouTube Channel"/>
      </a>

      <!-- From: http://www.buttonshut.com/Get-Button-Huts-Code/Twitter-Buttons-1124.html -->
      <a href="http://twitter.com/TechTinkering" title="@TechTinkering on Twitter">
        <img class="bannerIcon" src="/images/twitter-button-36.png" alt="@techtinkering on Twitter"/>
      </a>


      <!-- From: http://www.graphicsfuel.com/2011/05/email-icon-psd/ -->
      <a href="mailto:techtinkering@vlifesystems.com" title="Email us, we'd love to hear from you">
        <img class="bannerIcon" src="/images/email.png" alt="Email"/>
      </a>

      <a href="https://github.com/lawrencewoodman/techtinkering.com" title="Fork TechTinkering On Github ">
        <img class="bannerIcon" src="/images/octocat_fluid.png" alt="Techtinkering Repo on  Github"/>
      </a>

    </div><!--/.nav-collapse -->
  </div>

</nav>


    <div id="content" class="container">
      <div class="row">
  <div class="col-md-8">
    <article itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    <h1 itemprop="name"><a href="/2013/02/27/xdgbasedir-a-tcl-module-to-access-the-xdg-base-directory-specification/" title="xdgbasedir: A Tcl Module to Access the XDG Base Directory Specification">xdgbasedir: A Tcl Module to Access the XDG Base Directory Specification</a></h1>
    <span class="byLine">
      by <span itemscope itemprop="author" itemtype="http://schema.org/Person">
           <a rel="author" itemprop="url" class="author" href="/profile/lawrencewoodman/">
             <span itemprop="name">Lawrence Woodman</span>
           </a>
         </span>
      <time itemprop="datePublished" datetime="2013-02-27">
        27 February 2013
      </time>
    </span>


    <!-- AddThis Button BEGIN -->
    <div style="float: right;" class="addthis_toolbox addthis_default_style addthis_32x32_style">
    <a class="addthis_button_google_plusone" g:plusone:count="false"></a>
    <a class="addthis_button_facebook"></a>
    <a class="addthis_button_twitter"></a>
    <a class="addthis_button_reddit"></a>
    <a class="addthis_button_compact"></a>
    </div>
    <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=vlifesystems"></script>
    <!-- AddThis Button END -->

    <span class="tagLine">
      <br />
      Tags:
      
        <a rel="tag" href="/tag/programming">Programming</a> &nbsp; &nbsp;
      
        <a rel="tag" href="/tag/tcltk">Tcl/Tk</a> &nbsp; &nbsp;
      
    </span>

  </header>

  <div class="articleBody" itemprop="articleBody">
    <p>Unix has traditionally lacked a consistent way of storing user specific and system wide configuration and support files.  This has lead to a mess of dot files in a user’s home directory and other associated files being all over the file system.  The <a href="http://standards.freedesktop.org/basedir-spec/latest/index.html">XDG Base Directory Specification</a> describes a simple and clean way to locate these files across all Unix-like systems.  The <code class="highlighter-rouge">xdgbasedir</code> module allows you to easily access this specification from Tcl.</p>

<h2 id="why-use-the-xdg-base-directory-specification">Why Use the XDG Base Directory Specification?</h2>
<p>By storing an applications files using this spec. it makes it much easier for the user to find the files associated with your application so that they can edit and back them up.  For the application, it makes it much easier to work with files in a consistent manner on whichever Unix platform it is running.</p>

<p>Ultimately the spec. allows you to turn this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>.                     Downloads           .lives            .scummvm
..                    .fontconfig         .lives-dir        .scummvmrc
.android              .FontForge          livestmp          .sitecopy
.aptitude             .gcjwebplugin       .local            .sitecopyrc
archive               .gconf              .lyrics           .slrnrc
.avm                  .gconfd             .mbox             .ssh
.balazar              .gegl-0.0           .mcoprc           .synaptic
.bash_history         .gem                .mess             .tdfsb
.bash_logout          .gitconfig          .metacity         Templates
.bash_profile         .gitk               Music             .themes
.bashrc               .gnash              .nexuiz           .thumbnails
.bochsrc              .gnome              .openMSX          .tremulous
.bogofilter           .gnome2             .openoffice.org   .tsclient
.bundler              gpodder-downloads   .orbit            .tvtime
.cache                .gramps             .pan2             Video
.Catapult             .gtkrc-1.2-gnome2   .pcmanx           .vim
.cgobanrc             .gtwitter           Pictures          .viminfo
.civserver_history    .gvfs               .pingus           .vimrc
.config               .gvimrc             Podcasts          .vlc
.conky                .hplip              Public            .w3m
.conkyrc              .ICEauthority       .purple           .wapi
.corewars             .icons              .q3a              .wmii
data                  .inkscape           .qt               .wmii-3.5
.dbus                 .irb-history        retro_archive     .Xauthority
Desktop               .jigdo-lite         retro             .xawtv
dev                   .libreoffice        rtb               .xchat2
.dmenu_cache          .liferea            .rvm
.dmrc                 .lincity            .sane
Documents             .liquidwarrc        .scorched3d
</code></pre>
</div>

<p>Into this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>.         .config   Documents           Music      retro
..        data      Downloads           Pictures   retro_archive
archive   Desktop   gpodder-downloads   Public     Templates
.cache    dev       .local              Podcasts   Videos
</code></pre>
</div>

<h2 id="how-should-i-locate-files-using-the-specification">How Should I Locate Files Using the Specification?</h2>
<p>A brief explanation of the spec. follows, for more look at the <a href="http://standards.freedesktop.org/basedir-spec/latest/index.html">XDG Base Directory Specification</a> recommended by <a href="http://www.freedesktop.org">freedesktop.org</a>.</p>

<p>The specification uses six environmental variables to locate files.  These are:</p>

<table class="neatTable">
  <tr><th><code>$XDG_DATA_HOME</code></th><td>For user-specific data files.</td></tr>
  <tr><th><code>$XDG_CONFIG_HOME</code></th><td>For user-specific configuration files.</td></tr>
  <tr><th><code>$XDG_CACHE_HOME</code></th><td>For user-specific non-essential data.</td></tr>
  <tr><th><code>$XDG_RUNTIME_DIR</code></th><td>For user-specific runtime files.</td></tr>
  <tr><th><code>$XDG_DATA_DIRS</code></th><td>A list of directories, in order of preference, which should be searched for data files.</td></tr>
  <tr><th><code>$XDG_CONFIG_DIRS</code></th><td>A list of directories, in order of preference, which should be searched for configuration files.</td></tr>
</table>
<p><br /></p>

<p>For each directory or for each directory in the list of directories (in the case of the environmental variables ending with <code class="highlighter-rouge">_DIRS</code>), you would normally append the name of your application.  So for example if the <code class="highlighter-rouge">$XDG_DATA_HOME</code> variable returned <code class="highlighter-rouge">~/.local/share</code>, and your application was called <code class="highlighter-rouge">myapp</code>, you should look in <code class="highlighter-rouge">~/.local/share/myapp/</code> for that application’s user-specific data files.</p>

<h2 id="the-xdgbasedir-module-for-tcl">The <em>xdgbasedir</em> module for Tcl</h2>
<p>To ease working with the XDG Base Directory Specification from Tcl, I created the <a href="https://github.com/LawrenceWoodman/xdgbasedir_tcl">xdgbasedir</a> module.</p>

<p>To access the XDG directories you would typically specify the subdirectory that these directories will be relative to. The subdirectory is normally the name of the application, <code class="highlighter-rouge">myapp</code> in this example:</p>

<figure class="highlight"><pre><code class="language-tcl" data-lang="tcl"><span class="nb">package</span> require xdgbasedir

<span class="nb">puts</span> <span class="s2">"XDG_DATA_HOME: </span><span class="p">[</span>XDG::DATA_HOME myapp<span class="p">]</span><span class="s2">"</span>
<span class="nb">puts</span> <span class="s2">"XDG_CACHE_HOME: </span><span class="p">[</span>XDG::CACHE_HOME myapp<span class="p">]</span><span class="s2">"</span>
<span class="nb">puts</span> <span class="s2">"XDG_CONFIG_HOME: </span><span class="p">[</span>XDG::CONFIG_HOME myapp<span class="p">]</span><span class="s2">"</span>

<span class="nb">puts</span> <span class="s2">"XDG_RUNTIME_DIR: </span><span class="p">[</span>XDG::RUNTIME_DIR myapp<span class="p">]</span><span class="s2">"</span>
<span class="nb">puts</span> <span class="s2">"XDG_DATA_DIRS: </span><span class="p">[</span>XDG::DATA_DIRS myapp<span class="p">]</span><span class="s2">"</span>
<span class="nb">puts</span> <span class="s2">"XDG_CONFIG_DIRS: </span><span class="p">[</span>XDG::CONFIG_DIRS myapp<span class="p">]</span><span class="s2">"</span></code></pre></figure>

<p>The <code class="highlighter-rouge">XDG</code> procs ending in <code class="highlighter-rouge">_DIRS</code> return a list of directories in order of preference.</p>

<h2 id="getting-xdgbasedir">Getting <em>xdgbasedir</em></h2>
<p>You can download <code class="highlighter-rouge">xdgbasedir</code> from the <a href="https://github.com/LawrenceWoodman/xdgbasedir_tcl/tags">archive</a> page on github, and read the installation instructions in the <a href="https://github.com/LawrenceWoodman/xdgbasedir_tcl/blob/master/README.md">README.md</a> file.</p>

  </div>
</article>


    <div style="clear: left;"></div>

    
      <hr />
      <a rel="license" href="http://creativecommons.org/licenses/by/2.0/uk/">
        <img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by/2.0/uk/88x31.png" />
      </a>
      <span xmlns:dc="http://purl.org/dc/elements/1.1/" href="http://purl.org/dc/dcmitype/Text" property="dc:title" rel="dc:type">
        xdgbasedir: A Tcl Module to Access the XDG Base Directory Specification
      </span><br />

      by
      <a xmlns:cc="http://creativecommons.org/ns#" href="http://techtinkering.com/2013/02/27/xdgbasedir-a-tcl-module-to-access-the-xdg-base-directory-specification/" property="cc:attributionName" rel="cc:attributionURL">
      TechTinkering
      </a>
       is licensed under a
      <a rel="license" href="http://creativecommons.org/licenses/by/2.0/uk/">
      Creative Commons Attribution 2.0 UK: England & Wales License
      </a>
    

    <hr style="clear:both;" />

    
      <h2>Related</h2>
      <ul class="briefPosts">
        
          <li><a href="/2013/02/20/compiling-a-tcl-script-into-an-executable/">Compiling a Tcl Script into an Executable</a></li>
        
          <li><a href="/2012/06/26/embedding-an-sdl-surface-in-a-tk-window/">Embedding an SDL Surface in a Tk Window</a></li>
        
          <li><a href="/2014/04/19/beware-of-immutable-lists-for-fsharp-parallel-processing/">Beware of Immutable Lists for F# Parallel Processing</a></li>
        
          <li><a href="/2013/05/10/adding-a-basic-stub-to-a-vic-20-assembly-language-program/">Adding a Basic Stub to a Vic-20 Assembly Language Program</a></li>
        
          <li><a href="/2013/05/04/creating-a-tty-simulator-in-assembly-language-on-the-vic-20/">Creating a TTY Simulator in Assembly Language on the Vic-20</a></li>
        
      </ul>
    

    <hr />

    <div id="rightAd">
      <script type="text/javascript"><!--
      google_ad_client = "ca-pub-1613732348909658";
      /* 300x250 - TechTinkering */
      google_ad_slot = "8883223823";
      google_ad_width = 300;
      google_ad_height = 250;
      //-->
      </script>
      <script type="text/javascript"
      src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
      </script>
    </div>

    <h2>Bookmark and Share</h2>
    <a href="http://feedproxy.google.com/TechTinkering" title="Subscribe to TechTinkering's RSS Feed"><img class="bookmarkIcon" src="/images/feed-icon-28x28.png" alt="RSS Feed"/>
    </a> Subscribe to RSS feed<br />

    <!-- AddThis Button BEGIN -->
    <div class="addthis_toolbox addthis_default_style addthis_32x32_style" style="left:50px;top:50px;">
      <a class="addthis_button_google_plusone" g:plusone:count="false"></a> &nbsp; Share on Google+<br />
      <br />
      <a class="addthis_button_facebook"></a> &nbsp; Share on Facebook<br />
      <br />
      <a class="addthis_button_twitter"></a> &nbsp; Share on Twitter<br />
      <br />
      <a class="addthis_button_reddit"></a> &nbsp; Share on Reddit<br />
      <br />
      <a class="addthis_button_compact"></a> &nbsp; Share elsewhere<br />
    </div>
    <!-- AddThis Button END -->

    <hr style="clear:both;" />

    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'techtinkering';
      var disqus_identifier = '/2013/02/27/xdgbasedir-a-tcl-module-to-access-the-xdg-base-directory-specification/';
      var disqus_url = 'http://techtinkering.com/2013/02/27/xdgbasedir-a-tcl-module-to-access-the-xdg-base-directory-specification/';

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>


  <div class="col-md-4">
    <div class="columnAd">
      <script type="text/javascript"><!--
      google_ad_client = "ca-pub-1613732348909658";
      /* 300x250 - TechTinkering */
      google_ad_slot = "8883223823";
      google_ad_width = 300;
      google_ad_height = 250;
      //-->
      </script>
      <script type="text/javascript"
      src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
      </script>
    </div>

    <h2>Latest Articles</h2>
    <ul class="briefPosts">
      
        <li><a href="/2016/03/06/book-review-what-the-dormouse-said-by-john-markoff/">Book Review: What the Dormouse Said by John Markoff</a></li>
      
        <li><a href="/2014/06/22/how-to-make-thunderbird-feel-like-geary/">How to Make Thunderbird Feel Like Geary</a></li>
      
        <li><a href="/2014/04/19/beware-of-immutable-lists-for-fsharp-parallel-processing/">Beware of Immutable Lists for F# Parallel Processing</a></li>
      
        <li><a href="/2013/08/29/rendering-racket-package-scribblings-on-github-using-gh-pages/">Rendering Racket Package Scribblings on Github Using gh-pages</a></li>
      
        <li><a href="/2013/05/29/programmable-character-sets-a-simple-alternative-to-bitmap-displays/">Programmable Character Sets: A Simple Alternative to Bitmap Displays</a></li>
      
    </ul>

    <h2>Popular Tags</h2>
    <div>
      <a style='font-size: 131%' href='/tag/emulation'>Emulation</a>
<a style='font-size: 171%' href='/tag/tutorial'>Tutorial</a>
<a style='font-size: 200%' href='/tag/retro'>Retro</a>
<a style='font-size: 70%' href='/tag/imsai'>IMSAI</a>
<a style='font-size: 88%' href='/tag/vic-20'>Vic-20</a>
<a style='font-size: 88%' href='/tag/tcltk'>Tcl/Tk</a>
<a style='font-size: 100%' href='/tag/book'>Book</a>
<a style='font-size: 70%' href='/tag/webscraping'>Web Scraping</a>
<a style='font-size: 70%' href='/tag/offtopic'>Off Topic</a>
<a style='font-size: 88%' href='/tag/dos'>DOS</a>
<a style='font-size: 110%' href='/tag/ruby'>Ruby</a>
<a style='font-size: 70%' href='/tag/parallelprocessing'>Parallel Processing</a>
<a style='font-size: 88%' href='/tag/bbs'>BBS</a>
<a style='font-size: 118%' href='/tag/linux'>Linux</a>
<a style='font-size: 100%' href='/tag/games'>Games</a>
<a style='font-size: 70%' href='/tag/z80'>Z80</a>
<a style='font-size: 70%' href='/tag/textmode'>Text mode</a>
<a style='font-size: 70%' href='/tag/8080'>8080</a>
<a style='font-size: 100%' href='/tag/commodore'>Commodore</a>
<a style='font-size: 70%' href='/tag/adventuregames'>Adventure Games</a>
<a style='font-size: 70%' href='/tag/xace'>xAce</a>
<a style='font-size: 118%' href='/tag/assembly'>Assembly</a>
<a style='font-size: 70%' href='/tag/debugging'>Debugging</a>
<a style='font-size: 70%' href='/tag/jupiterace'>Jupiter Ace</a>
<a style='font-size: 177%' href='/tag/programming'>Programming</a>
<a style='font-size: 70%' href='/tag/editors'>Editors</a>
<a style='font-size: 70%' href='/tag/jekyll'>Jekyll</a>
<a style='font-size: 110%' href='/tag/review'>Review</a>
<a style='font-size: 100%' href='/tag/pdp-8'>PDP-8</a>
<a style='font-size: 70%' href='/tag/computerarchitecure'>Computer Architecure</a>
<a style='font-size: 88%' href='/tag/subleq'>SUBLEQ</a>
<a style='font-size: 110%' href='/tag/cpm'>CP/M</a>
<a style='font-size: 88%' href='/tag/history'>History</a>
<a style='font-size: 70%' href='/tag/c'>C</a>
<a style='font-size: 88%' href='/tag/webdevelopment'>Web Development</a>
<a style='font-size: 88%' href='/tag/oisc'>OISC</a>
<a style='font-size: 100%' href='/tag/dec'>DEC</a>

    </div>

  </div>
</div>

    </div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <strong>Legal:</strong> &nbsp;
        <a href="/tandc/">Terms</a>,
        <a href="/statinfo/">Statutory Information</a>

        &nbsp; &nbsp;
        <strong>RSS Feeds:</strong> &nbsp;
        <a href="http://feedproxy.google.com/TechTinkering" title="Subscribe to TechTinkering's RSS Feed">Full</a>,
        <a href="http://feeds.feedburner.com/Retro-Techtinkering" title="Subscribe to TechTinkering's Retro RSS Feed">Retro</a>
      </div>
    </div>
  </div>
</footer>




    <!-- Amazon Product Preview Code -->
    <script type="text/javascript" src="http://www.assoc-amazon.co.uk/s/link-enhancer?tag=techtinkering-21&amp;o=2">
    </script>
    <noscript>
        <img src="http://www.assoc-amazon.co.uk/s/noscript?tag=techtinkering-21" alt="" />
    </noscript>

    <!-- Google Analytics tracking code -->
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-4388762-2");
        pageTracker._trackPageview();
      } catch(err) {}
    </script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/js/bootstrap.min.js"></script>

  </body>
</html>
