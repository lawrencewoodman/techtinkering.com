<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Transferring Files to and from CP/M .D71 Disk Images Using ctools</title>
  <meta name="description" content="Using Vice to emulate a Commodore 128 running CP/M works very well, but it isn't easy to get CP/M files directly onto and off a .D64/.D71 disk image.  The easies">
  <meta name="keywords" content="Retro Vintage Programming Tinkering"/>

  <!-- *** Twitter Card *** -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@techtinkering">
  <meta name="twitter:title" content="Transferring Files to and from CP/M .D71 Disk Images Using ctools">
  <meta name="twitter:description" content="Using Vice to emulate a Commodore 128 running CP/M works very well, but it isn't easy to get CP/M files directly onto and off a .D64/.D71 disk image.  The easies">
    <meta name="twitter:image"
         content="https://techtinkering.com/img/social_images/ctools.png">
  <!-- *** Twitter Card *** -->

  <!-- *** Open Graph *** --->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Transferring Files to and from CP/M .D71 Disk Images Using ctools">
  <meta property="og:description" content="Using Vice to emulate a Commodore 128 running CP/M works very well, but it isn't easy to get CP/M files directly onto and off a .D64/.D71 disk image.  The easies">
  <meta property="og:url" content="https://techtinkering.com/articles/transferring-files-to-and-from-cpm-d71-disk-images-using-ctools/">
    <meta property="og:image"
         content="https://techtinkering.com/img/social_images/ctools.png">
  <!-- *** Open Graph *** --->

  <script>
    console.log('timeZone: '+Intl.DateTimeFormat().resolvedOptions().timeZone);
    function isUserFromUK() {
      return Intl.DateTimeFormat().resolvedOptions().timeZone == "Europe/London";
    }
  </script>

  <link href="/css/main.css" rel="stylesheet">
  <link href="/css/article.css" rel="stylesheet">
  <link rel="canonical" href="https://techtinkering.com/articles/transferring-files-to-and-from-cpm-d71-disk-images-using-ctools/">
  <link rel="alternate" type="application/atom+xml" title="TechTinkering - Retro Computers, Programming, General Technical Tinkering"
        href="https://techtinkering.com/feed.xml" />

	<!-- ****** faviconit.com favicons ****** -->
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<!-- ****** faviconit.com favicons ****** -->

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

</head>
  <body>
    <nav>
  <div class="container">
    <div class="navbar-header">
      <a href="/">TechTinkering</a><br />
      =============
    </div>

    <div class="contact">
      <ul>
        <li>
          <a href="https://twitter.com/TechTinkering" title="@TechTinkering on Twitter">Twitter</a>
        </li>
        <li>
          <a href="https://youtube.com/techtinkering" title="TechTinkering's YouTube Channel">YouTube</a>
        </li>
        <li>
          <a href="/feed.xml" title="Subscribe to our Atom Feed">Feed</a>
        </li>
        <li>
          <a href="mailto:techtinkeringuk@gmail.com" title="Email us, we'd love to hear from you">Email</a>
        </li>
        <li>
          <a href="/useful-links/" title="Useful vintage computer links">Useful Links</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div id="content" class="container">
      <div class="margin-buffer">
    <article itemscope itemtype="http://schema.org/BlogPosting">
    <meta itemprop="image"
         content="https://techtinkering.com/img/social_images/ctools.png" />
      <header>
        <a href="/articles/transferring-files-to-and-from-cpm-d71-disk-images-using-ctools/" title="Transferring Files to and from CP/M .D71 Disk Images Using ctools">
          <h1 itemprop="headline name">Transferring Files to and from CP/M .D71 Disk Images Using ctools</h1>
        </a>
        <div>
            <time itemprop="datePublished"
                  datetime="2019-05-24">
              24 May 2019
            </time>
          <span itemscope itemprop="publisher"
                itemtype="http://schema.org/Organization">
            <meta itemprop="name" content="TechTinkering" />
            <meta itemprop="url" content="https://techtinkering.com" />
          </span>
          <span itemscope itemprop="author" itemtype="http://schema.org/Person">
            <a rel="author" itemprop="url" href="https://lawrencewoodman.github.io">
              <span itemprop="name">Lawrence Woodman</span>
            </a>
          </span>

          <ul class="tags">
              <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
              <li>#<a href="/articles/tag/commodore/">Commodore</a></li>
              <li>#<a href="/articles/tag/emulation/">Emulation</a></li>
              <li>#<a href="/articles/tag/retro/">Retro</a></li>
          </ul>
        </div>
      </header>

        <div itemprop="articleBody">
        <p>Using <a href="http://vice-emu.sourceforge.net/">Vice</a> to emulate a Commodore 128 running CP/M works very well, but it isn't easy to get CP/M files directly onto and off a <em>.D64</em>/<em>.D71</em> disk image.  The easiest way to do this under Linux is to use <em>ctools</em>.</p>
<h2>Building ctools</h2>
<p>First you need to get the source files for <a href="https://github.com/mist64/ctools">ctools</a>, for this we can use <em>wget</em>:</p>
<pre><code class="language-bash">$ wget https://github.com/mist64/ctools/archive/master.zip
$ unzip master.zip
</code></pre>
<p>To build the executables:</p>
<pre><code class="language-bash">$ cd ctools-master/src
$ make
$ make install
</code></pre>
<p>The executable files are now in <em>ctools-master/bin</em>.  You will probably find it useful to copy them to somewhere like <em>~/bin</em> to make them easier to access.</p>
<h2>Using ctools</h2>
<p>ctools is fairly straightforward to use and most of the time you will only use two of the programs: <em>cformat</em> and <em>ctools</em>.</p>
<img src="/img/articles/ctools.png" class="img-right" style="width: 550px; clear: right;" title="ctools">
<h3>Creating a Formatted CP/M Disk Image</h3>
<p><em>cformat</em> allows us to create CP/M disk images and I find it most useful to create double sided C128 disk images using the <code>-2</code> switch.</p>
<p>To create a disk image called <em>work.d71</em>:</p>
<pre><code class="language-bash">$ cformat -2 work.d71
</code></pre>
<br />
<h3>Working With Files on the Image</h3>
<p>Once we have a disk image we can transfer files, erase files, show the directory, etc using the <em>ctools</em> command.</p>
<p>To copy all the <em>.txt</em> files from the current directory onto the disk image, <em>work.d71</em>:</p>
<pre><code class="language-bash">$ ctools work.d71 p *.txt
</code></pre>
<p>To display the files on the image:</p>
<pre><code class="language-bash">$ ctools work.d71 d
</code></pre>
<p>To get all the <em>.txt</em> files from the disk image and put them in the current directory:</p>
<pre><code class="language-bash">$ ctools work.d71 g &quot;*.txt&quot;
</code></pre>
<h2>Video of ctools</h2>
<p>ctools can be seen being used to transfer files to a .D71 disk image which is then read under an emulated C128 running CP/M on Vice below.</p>
<div class="youtube-wrapper">
  <iframe width="560" height="315" src="https://www.youtube.com/embed/lQ1SS16Y_Pg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
      </div>
    </article>
</div>

  <div id="cclicence">
    <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
      <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
    </a>
    <br />
    <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Transferring Files to and from CP/M .D71 Disk Images Using ctools</span>
    by <a xmlns:cc="http://creativecommons.org/ns#" href="https://techtinkering.com/articles/transferring-files-to-and-from-cpm-d71-disk-images-using-ctools/" property="cc:attributionName" rel="cc:attributionURL">Lawrence Woodman</a>
   is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
   
  </div>


  <div class="discuss">
    <h2 style="margin-top:0;">Share This Post</h2>
    <div class="contact">
  <ul>
    <li><a href="http://www.reddit.com/submit?url=https%3A%2F%2Ftechtinkering.com%2Farticles%2Ftransferring-files-to-and-from-cpm-d71-disk-images-using-ctools%2F&title=Transferring%20Files%20to%20and%20from%20CP%2FM%20.D71%20Disk%20Images%20Using%20ctools" target="_blank" title="Submit to Reddit">Reddit</a></li>
    <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ftechtinkering.com%2Farticles%2Ftransferring-files-to-and-from-cpm-d71-disk-images-using-ctools%2F&quote=Transferring%20Files%20to%20and%20from%20CP%2FM%20.D71%20Disk%20Images%20Using%20ctools" target="_blank" title="Share on Facebook">Facebook</a></li>
    <li><a href="https://twitter.com/intent/tweet?source=https%3A%2F%2Ftechtinkering.com%2Farticles%2Ftransferring-files-to-and-from-cpm-d71-disk-images-using-ctools%2F&text=Transferring%20Files%20to%20and%20from%20CP%2FM%20.D71%20Disk%20Images%20Using%20ctools:%0Ahttps%3A%2F%2Ftechtinkering.com%2Farticles%2Ftransferring-files-to-and-from-cpm-d71-disk-images-using-ctools%2F&via=TechTinkering" target="_blank" title="Tweet">Twitter</a></li>
    <li><a href="mailto:?subject=Transferring%20Files%20to%20and%20from%20CP%2FM%20.D71%20Disk%20Images%20Using%20ctools&body=Using%20Vice%20to%20emulate%20a%20Commodore%20128%20running%20CP%2FM%20works%20very%20well%2C%20but%20it%20isn%27t%20easy%20to%20get%20CP%2FM%20files%20directly%20onto%20and%20off%20a%20.D64%2F.D71%20disk%20image.%20%20The%20easiest%20way%20to%20do%20this%20under%20Linux%20is%20to%20use%20c...:%0A%0Ahttps%3A%2F%2Ftechtinkering.com%2Farticles%2Ftransferring-files-to-and-from-cpm-d71-disk-images-using-ctools%2F" target="_blank" title="Send email">Email</a></li>
  </ul>
</div>

    <h2>Feedback/Discuss</h2>
    <div class="contact">
  <ul>


    <li><a href="mailto:techtinkeringuk@gmail.com?subject=Comment:%20Transferring%20Files%20to%20and%20from%20CP%2FM%20.D71%20Disk%20Images%20Using%20ctools&body=Article%20URL:%20https%3A%2F%2Ftechtinkering.com%2Farticles%2Ftransferring-files-to-and-from-cpm-d71-disk-images-using-ctools%2F%0A" title="Send us an email">Email</a></li>
  </ul>
</div>
  </div>


    <div>
    <h2>Related Articles</h2>
    <div class="margin-buffer">
      <header>
  <h2><a href="/articles/emulating-a-cpm-system-with-z80pack/">Emulating a CP/M System With z80pack</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
          <li>#<a href="/articles/tag/emulation/">Emulation</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
      </ul>
  </span>
</header>
<div>
  z80pack is great for creating an emulated CP/M system.  It can either be used to create a general CP/M system or can emulate a specific system such as an IMSAI or ALTAIR including a graphical front-pan...
  &nbsp;
  <a class="readMore" href="/articles/emulating-a-cpm-system-with-z80pack/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/modula-2-compilers-on-cpm/">Modula-2 Compilers on CP/M</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
          <li>#<a href="/articles/tag/modula-2/">Modula-2</a></li>
          <li>#<a href="/articles/tag/programming/">Programming</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
      </ul>
  </span>
</header>
<div>
  Modula-2 is a great language in general and is a good choice for programming on CP/M.  There are three good compilers available for CP/M which all require a Z80 processor and we'll compare each in turn...
  &nbsp;
  <a class="readMore" href="/articles/modula-2-compilers-on-cpm/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/xccp-a-shell-extension-for-cpm/">XCCP: A Shell Extension for CP/M</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
      </ul>
  </span>
</header>
<div>
  XCCP describes itself as an Extended Console Command Processor for CP/M. It supports the 8080 and v1.0 was released by Anton R. Fleig in 1984.  Like EPEX, XCCP doesn't require installing so we can begi...
  &nbsp;
  <a class="readMore" href="/articles/xccp-a-shell-extension-for-cpm/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/epex-an-environment-extension-for-cpm/">EPEX: An Environment Extension for CP/M</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
      </ul>
  </span>
</header>
<div>
  Epex is an evironment extension for CP/M.  It stands for Environmental Processing EXecutive, and v1.1 was released by James H. Whorton in 1986.  It can make using CP/M much more comfortable at the cost...
  &nbsp;
  <a class="readMore" href="/articles/epex-an-environment-extension-for-cpm/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/file-comparison-utilities-on-cpm/">File Comparison Utilities on CP/M</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
      </ul>
  </span>
</header>
<div>
  There are many utilities available for CP/M to compare the differences between files and to distribute those differences.  All the utilities in this article can be found on the Walnut Creek CD.
Binary ...
  &nbsp;
  <a class="readMore" href="/articles/file-comparison-utilities-on-cpm/">Read More</a>
</div>
<br />
</div>
    </div>

    </div>

    <footer>
  <nav>
    <div class="container">
      <div>
        <strong>Legal:</strong>
        <a href="/terms/">T & C</a>, <a href="/privacy/">Privacy Policy</a>
        &nbsp;
        <strong>Misc:</strong>
        <a href="https://github.com/lawrencewoodman/techtinkering.com" title="Fork TechTinkering On GitHub ">GitHub</a>
      </div>
    </div>
  </nav>
</footer>
  </body>
</html>