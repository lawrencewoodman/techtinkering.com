<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Compression and Archiving on CP/M</title>
  <meta name="description" content="CP/M has the ability to handle lots of different compression and archive formats which was important due to the limited capacity of floppy disks and the cost of ">
  <meta name="keywords" content="Retro Vintage Programming Tinkering"/>

  <!-- *** Twitter Card *** -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@techtinkering">
  <meta name="twitter:title" content="Compression and Archiving on CP/M">
  <meta name="twitter:description" content="CP/M has the ability to handle lots of different compression and archive formats which was important due to the limited capacity of floppy disks and the cost of ">
    <meta name="twitter:image"
         content="https://techtinkering.com/img/social_images/nulu_menu.png">
  <!-- *** Twitter Card *** -->

  <!-- *** Open Graph *** --->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Compression and Archiving on CP/M">
  <meta property="og:description" content="CP/M has the ability to handle lots of different compression and archive formats which was important due to the limited capacity of floppy disks and the cost of ">
  <meta property="og:url" content="https://techtinkering.com/articles/compression-and-archiving-on-cpm/">
    <meta property="og:image"
         content="https://techtinkering.com/img/social_images/nulu_menu.png">
  <!-- *** Open Graph *** --->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-4388762-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-4388762-2');
  </script>

  <script>
    console.log('timeZone: '+Intl.DateTimeFormat().resolvedOptions().timeZone);
    function isUserFromUK() {
      return Intl.DateTimeFormat().resolvedOptions().timeZone == "Europe/London";
    }
  </script>

  <link href="/css/main.css" rel="stylesheet">
  <link href="/css/article.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" rel="stylesheet" type="text/css" />
  <link rel="canonical" href="https://techtinkering.com/articles/compression-and-archiving-on-cpm/">
  <link rel="alternate" type="application/rss+xml" title="TechTinkering - Retro Computers, Programming, General Technical Tinkering"
        href="https://feedproxy.google.com/TechTinkering" />

	<!-- ****** faviconit.com favicons ****** -->
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<!-- ****** faviconit.com favicons ****** -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>

  <script>
    if (isUserFromUK()) {
      console.log("No Google ADs - UK user");
    } else {
      console.log("Google ADs - not from uk");
      document.write('<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"><' + '/script>');
    }
  </script>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <script>
    // Cookie Consent - https://cookieconsent.insites.com
    window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#252e39"
        },
        "button": {
          "background": "#14a7d0"
        }
      },
      "theme": "classic",
      "position": "top",
      "static": true,
      "content": {
        "message": "TechTinkering uses cookies for advertising, analytics, etc.",
        "href": "https://techtinkering.com/privacy/"
      }
    })});
  </script>

  <script>
    if (isUserFromUK()) {
      console.log("No Google Ads - uk user");
    } else {
      console.log("Google Ads - non-uk user");
      (adsbygoogle = window.adsbygoogle || []).push({
           google_ad_client: "ca-pub-1613732348909658",
           enable_page_level_ads: true
      });
    }
  </script>

  <script>
    if (isUserFromUK()) {
      console.log("Amazon Banner - from uk");
      // Amazon Prime Video Banner 728x90 and 300x250
      amznBanner='<div class="amazonBannerDesktop"><iframe src="https://rcm-eu.amazon-adsystem.com/e/cm?o=2&p=48&l=ur1&category=piv&banner=0E183RXMV88X6J8GJ002&f=ifr&linkID=a2c37aae0561f075af3356504493bdf0&t=techtinkering-21&tracking_id=techtinkering-21" width="728" height="90" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0" sandbox="allow-scripts allow-same-origin allow-popups allow-top-navigation-by-user-activation"><' + '/iframe><' +'/div><div class="amazonBannerMobile"><iframe src="https://rcm-eu.amazon-adsystem.com/e/cm?o=2&p=12&l=ur1&category=piv&banner=070GKT77WVHAHSRTHK02&f=ifr&linkID=0dc57b53bcc8f7ab67a385d51155e57a&t=techtinkering-21&tracking_id=techtinkering-21" width="300" height="250" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0" sandbox="allow-scripts allow-same-origin allow-popups allow-top-navigation-by-user-activation"><' + '/iframe><' + '/div>';
    }
  </script>
</head>
  <body>
    <nav>
  <div class="container">
    <div class="navbar-header">
      <a href="/">TechTinkering</a><br />
      =============
    </div>

    <div class="contact">
      <ul>
        <li>
          <a href="https://twitter.com/TechTinkering" title="@TechTinkering on Twitter">Twitter</a>
        </li>
        <li>
          <a href="https://youtube.com/techtinkering" title="TechTinkering's YouTube Channel">YouTube</a>
        </li>
        <li>
          <a href="https://feeds.feedburner.com/TechTinkering" title="Subscribe to our RSS Feed">RSS</a>
        </li>
        <li>
          <a href="mailto:techtinkering@vlifesystems.com" title="Email us, we'd love to hear from you">Email</a>
        </li>
        <li>
          <a href="/useful-links/" title="Useful vintage computer links">Useful Links</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div id="content" class="container">
      <div class="margin-buffer">
    <article itemscope itemtype="http://schema.org/BlogPosting">
    <meta itemprop="image"
         content="https://techtinkering.com/img/social_images/nulu_menu.png" />
      <header>
        <a href="/articles/compression-and-archiving-on-cpm/" title="Compression and Archiving on CP/M">
          <h1 itemprop="headline name">Compression and Archiving on CP/M</h1>
        </a>
        <div>
            <time itemprop="datePublished"
                  datetime="2019-04-05">
               5 April 2019
            </time>
          <span itemscope itemprop="publisher"
                itemtype="http://schema.org/Organization">
            <meta itemprop="name" content="TechTinkering" />
            <meta itemprop="url" content="https://techtinkering.com" />
          </span>
          <span itemscope itemprop="author" itemtype="http://schema.org/Person">
            <a rel="author" itemprop="url" href="https://lawrencewoodman.github.io">
              <span itemprop="name">Lawrence Woodman</span>
            </a>
          </span>

          <ul class="tags">
              <li>#<a href="/articles/tag/archiving/">Archiving</a></li>
              <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
              <li>#<a href="/articles/tag/retro/">Retro</a></li>
          </ul>
        </div>
      </header>

      <script>
        if (isUserFromUK()) {
          document.write(amznBanner);
        }
      </script>

        <div itemprop="articleBody">
        <p>CP/M has the ability to handle lots of different compression and archive formats which was important due to the limited capacity of floppy disks and the cost of downloading/uploading files on BBS's.  They each have their pros and cons and this article will explore some of the most common ones and where you can find programs on the <a href="http://www.classiccmp.org/cpmarchives/ftp.php?b=cpm/Software/WalnutCD">Walnut Creek CD</a> to handle them.</p>
<h2>Compression Only</h2>
<p>The first compression formats on CP/M only compressed single files and would change the middle letter of the file extension to signify that the file had been compressed.</p>
<dl>
  <dt>.?Q?</dt>
  <dd>Squeeze was an early compression format that used Huffman encoding to compress files.  These can be <em>squeezed</em> (compressed) with <a href="http://www.classiccmp.org/cpmarchives/cpm/Software/WalnutCD/cpm/startkit/sq111.com" title="sq111.com">sq</a> and <em>unsqueezed</em> (decompressed) with <a href="http://www.classiccmp.org/cpmarchives/cpm/Software/WalnutCD/cpm/startkit/usq120.com" title="usq120.com">usq</a>.</dd>
  <dt>.?Z?</dt>
  <dd>Crunch brought LZW compression to CP/M and these files can be handled with <a href="http://www.classiccmp.org/cpmarchives/cpm/Software/WalnutCD/beehive/compress/crunch28.arc" title="crunch28.arc">crunch</a>.</dd>
  <dt>.?Y?</dt>
  <dd>These files, using LHA compression, were relatively uncommon.  They can be handled with <a href="http://www.classiccmp.org/cpmarchives/cpm/Software/WalnutCD/beehive/compress/crlzh20.lbr" title="crlzh20.lbr">crlzh</a> or my favourite for just decompressing is <a href="http://www.classiccmp.org/cpmarchives/cpm/Software/WalnutCD/beehive/compress/crunch28.arc" title="crunch28.arc">uncr</a>.</dd>
</dl>
<h2>Archive Only</h2>
<dl>
  <dt>.LBR</dt>
  <dd>LBR was an early CP/M format that allowed you to combine multiple files into a single archive.  These files would often have been compressed with tools such as squeeze or crunch.  Because it was so common it was well supported by other tools such as QL, LRUN, LSWEEP and others which can look into a .LBR archive and use individual files without having to separately extract first.  These files can be handled using <a href="http://www.classiccmp.org/cpmarchives/cpm/Software/WalnutCD/cpm/utils/arc-lbr/nulu152a.lbr" title="nulu152a.lbr">nulu</a> or if you just want to extract files, <a href="http://www.classiccmp.org/cpmarchives/cpm/Software/WalnutCD/beehive/compress/delbr.com" title="delbr.com">delbr</a>.  For more information have a look at our article: <a href="/articles/working-with-lbr-files-on-cpm/">Working with .LBR on CP/M</a>.</dd>
</dl>
<h2>Multiple File Archives with Compression</h2>
<p>Later on CP/M adopted formats from other platforms, such as MS-DOS, which integrated file compression and archiving into a single format.</p>
<h2>Compress and Decompress</h2>
<dl>
  <dt>.ARC/.ARK</dt>
  <dd>This is the most common compressed archive format on CP/M.  Internally it analyses each file which it is asked to compress and tries to find the best compression method such as squeeze, crunch, etc.  It can be decompressed using <a href="http://www.classiccmp.org/cpmarchives/cpm/Software/WalnutCD/beehive/compress/unarc16.lbr" title="unarc16.lbr">unarc</a> or created using <a href="http://www.classiccmp.org/cpmarchives/cpm/Software/WalnutCD/beehive/compress/ark11.arc" title="ark11.arc">arc</a>.</dd>
  <dt>.LZH/LHA</dt>
  <dd>A common format at one time on MS-DOS and still is on the Amiga.  These can handled using <a href="http://www.classiccmp.org/cpmarchives/cpm/Software/WalnutCD/beehive/compress/crlzh20.lbr" title="crlzh20.lbr">crlzh</a>.</dd>
  <dt>.PMA</dt>
  <dd>This is a variant of LHA and as far as I'm aware was only used on CP/M.  These files can be handled using <a href="http://www.classiccmp.org/cpmarchives/cpm/Software/WalnutCD/enterprs/cpm/utils/f/pmautoae.com" title="pmautoae.com - Self Extracting Archive">PMarc</a>.</dd>
</dl>
<h2>Decompress Only</h2>
<p>CP/M can also decompress formats that were common on other platforms such as MS-DOS and Windows and in the case of .ZIP still is.  They can't be created under CP/M but it is useful to be able to decompress them so that you can read files created on other systems.  Unfortunately, the <em>unzip</em> utilities I've found only unzip files created with PKZIP 1.x and therefore can't use the DEFLATE algorithm introduced by Phil Katz's 1993 release of PKZIP 2.04g.</p>
<dl>
  <dt>.ZIP</dt>
  <dd>There are lots of files compressed as .ZIP files on the Walnut Creek CD and therefore despite not being able to decompress modern .ZIP files under CP/M it is still useful to decompress them.  They can be unzipped with <a href="http://www.classiccmp.org/cpmarchives/cpm/Software/WalnutCD/jsage/znode3/uploads/unzip18.lbr" title="unzip18.lbr">unzip</a>.</dd>
  <dt>.ARJ</dt>
  <dd>This was pretty common at one time but got overtaken by .ZIP.  To decompress
  use <a href="http://www.classiccmp.org/cpmarchives/cpm/Software/WalnutCD/jsage/znode3/uploads/cpmunarj.ark" title="cpmunarj.ark">unarj</a>.</dd>
</dl>
<h2>Self-Extracting Archives</h2>
<p>The <a href="http://www.classiccmp.org/cpmarchives/cpm/Software/WalnutCD/enterprs/cpm/utils/f/pmautoae.com" title="pmautoae.com - Self Extracting Archive">PMarc</a> tool mentioned above can also create self-extracting .com files.  Which made it really easy to distribute multiple files, but this does add extra overhead and reduce flexibility.</p>
<h2>Benchmarks</h2>
<p>The various compression formats produce different results. To compare them I have taken some of the most common and used them to compress two files: ED.COM and TAO.TXT.  These files can be seen in the first two rows of the table followed by various compressed versions of them.</p>
<table class="neatTable">
  <tr><th>Filename</th><th>Size (Kb)</th><th>Size (Records)</th><th></th></tr>
  <tr>
    <td>ED.COM</td>
    <td>10</td>
    <td>73</td>
    <td>Original binary file (CP/M Plus Editor)</td>
  </tr>
  <tr>
    <td><a href="http://www.textfiles.com/100/taoprogram.pro">TAO.TXT</a></td>
    <td>27</td>
    <td>214</td>
    <td>Original text file</td>
  </tr>
  <tr>
    <td>ED.CQM</td>
    <td>8</td>
    <td>63</td>
    <td>Squeezed version of ED.COM</td>
  </tr>
  <tr>
    <td>TAO.TQT</td>
    <td>14</td>
    <td>110</td>
    <td>Squeezed version of TAO.TXT</td>
  </tr>
  <tr>
    <td>ED.CZM</td>
    <td>7</td>
    <td>54</td>
    <td>Crunched version of ED.COM</td>
  </tr>
  <tr>
    <td>TAO.TZT</td>
    <td>11</td>
    <td>86</td>
    <td>Crunched version of TAO.TXT</td>
  <tr>
    <td>BOTH.LBR</td>
    <td>36</td>
    <td>288</td>
    <td>LBR archive containing files: ED.COM and TAO.TXT (no compression)</td>
  </tr>
  <tr>
    <td>BOTHS.LBR</td>
    <td>22</td>
    <td>174</td>
    <td>LBR archive containing files: ED.CQM and TAO.TQT (squeezed)</td>
  </tr>
  <tr>
    <td>BOTHC.LBR</td>
    <td>18</td>
    <td>141</td>
    <td>LBR archive containing files: ED.CZM and TAO.TZT (crunched)</td>
  </tr>
  <tr>
    <td>ED.ARK</td>
    <td>7</td>
    <td>56</td>
    <td>Ark version of ED.COM (Ark crunched this file)</td>
  <tr>
    <td>TAO.ARK</td>
    <td>11</td>
    <td>88</td>
    <td>Ark version of TAO.TXT (Ark crunched this file)</td>
  </tr>
  <tr>
    <td>BOTH.ARK</td>
    <td>18</td>
    <td>142</td>
    <td>Ark version containing files: ED.COM and TAO.TXT (Ark crunched both files)</td>
  </tr>
</table>
<h2>Video of Compression and Archiving Tools</h2>
<p>You can see some of the tools in action below.</p>
<div class="youtube-wrapper">
  <iframe width="560" height="315" src="https://www.youtube.com/embed/OaIO56EmSuY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
      </div>
    </article>
</div>

<script>
  if (isUserFromUK()) {
    document.write(amznBanner);
  }
</script>

  <div id="cclicence">
    <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
      <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
    </a>
    <br />
    <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Compression and Archiving on CP/M</span>
    by <a xmlns:cc="http://creativecommons.org/ns#" href="https://techtinkering.com/articles/compression-and-archiving-on-cpm/" property="cc:attributionName" rel="cc:attributionURL">Lawrence Woodman</a>
   is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
   
  </div>


  <div class="discuss">
    <h2 style="margin-top:0;">Share This Post</h2>
    <div class="contact">
  <ul>
    <li><a href="http://www.reddit.com/submit?url=https%3A%2F%2Ftechtinkering.com%2Farticles%2Fcompression-and-archiving-on-cpm%2F&title=Compression%20and%20Archiving%20on%20CP%2FM" target="_blank" title="Submit to Reddit">Reddit</a></li>
    <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ftechtinkering.com%2Farticles%2Fcompression-and-archiving-on-cpm%2F&quote=Compression%20and%20Archiving%20on%20CP%2FM" target="_blank" title="Share on Facebook">Facebook</a></li>
    <li><a href="https://twitter.com/intent/tweet?source=https%3A%2F%2Ftechtinkering.com%2Farticles%2Fcompression-and-archiving-on-cpm%2F&text=Compression%20and%20Archiving%20on%20CP%2FM:%0Ahttps%3A%2F%2Ftechtinkering.com%2Farticles%2Fcompression-and-archiving-on-cpm%2F&via=TechTinkering" target="_blank" title="Tweet">Twitter</a></li>
    <li><a href="mailto:?subject=Compression%20and%20Archiving%20on%20CP%2FM&body=CP%2FM%20has%20the%20ability%20to%20handle%20lots%20of%20different%20compression%20and%20archive%20formats%20which%20was%20important%20due%20to%20the%20limited%20capacity%20of%20floppy%20disks%20and%20the%20cost%20of%20downloading%2Fuploading%20files%20on%20BBS%27s.%20%20T...:%0A%0Ahttps%3A%2F%2Ftechtinkering.com%2Farticles%2Fcompression-and-archiving-on-cpm%2F" target="_blank" title="Send email">Email</a></li>
  </ul>
</div>

    <h2>Feedback/Discuss</h2>
    <div class="contact">
  <ul>


    <li><a href="mailto:techtinkering@vlifesystems.com?subject=Comment:%20Compression%20and%20Archiving%20on%20CP%2FM&body=Article%20URL:%20https%3A%2F%2Ftechtinkering.com%2Farticles%2Fcompression-and-archiving-on-cpm%2F%0A" title="Send us an email">Email</a></li>
  </ul>
</div>
  </div>


    <div>
    <h2>Related Articles</h2>
    <div class="margin-buffer">
      <header>
  <h2><a href="/articles/advanced-use-of-lbr-files-on-cpm/">Advanced Use of .LBR files on CP/M</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/archiving/">Archiving</a></li>
          <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
      </ul>
  </span>
</header>
<div>
  Lots of utilities make use of .LBR (Library) files to provide extra facilities such as the ability to run commands from archives or mount them as if they were drives.  This article shows some more adva...
  &nbsp;
  <a class="readMore" href="/articles/advanced-use-of-lbr-files-on-cpm/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/working-with-lbr-files-on-cpm/">Working with .LBR files on CP/M</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/archiving/">Archiving</a></li>
          <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
      </ul>
  </span>
</header>
<div>
  The .LBR (Library) file format was the most common form of multi-file archive on personal computers at one time.  It was created by Gary P. Novosielski in 1982 for use by his LU (Library Utility) progr...
  &nbsp;
  <a class="readMore" href="/articles/working-with-lbr-files-on-cpm/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/xccp-a-shell-extension-for-cpm/">XCCP: A Shell Extension for CP/M</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
      </ul>
  </span>
</header>
<div>
  XCCP describes itself as an Extended Console Command Processor for CP/M. It supports the 8080 and v1.0 was released by Anton R. Fleig in 1984.  Like EPEX, XCCP doesn't require installing so we can begi...
  &nbsp;
  <a class="readMore" href="/articles/xccp-a-shell-extension-for-cpm/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/epex-an-environment-extension-for-cpm/">EPEX: An Environment Extension for CP/M</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
      </ul>
  </span>
</header>
<div>
  Epex is an evironment extension for CP/M.  It stands for Environmental Processing EXecutive, and v1.1 was released by James H. Whorton in 1986.  It can make using CP/M much more comfortable at the cost...
  &nbsp;
  <a class="readMore" href="/articles/epex-an-environment-extension-for-cpm/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/file-comparison-utilities-on-cpm/">File Comparison Utilities on CP/M</a></h2>
  <span class="post-meta">
      <ul class="tags">
          <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
          <li>#<a href="/articles/tag/retro/">Retro</a></li>
      </ul>
  </span>
</header>
<div>
  There are many utilities available for CP/M to compare the differences between files and to distribute those differences.  All the utilities in this article can be found on the Walnut Creek CD.
Binary ...
  &nbsp;
  <a class="readMore" href="/articles/file-comparison-utilities-on-cpm/">Read More</a>
</div>
<br />
</div>
    </div>

<script>
  if (isUserFromUK()) {
    document.write(amznBanner);
  }
</script>
    </div>

    <footer>
  <nav>
    <div class="container">
      <div>
        <strong>Legal:</strong>
        <a href="/terms/">T & C</a>, <a href="/privacy/">Privacy Policy</a>
        &nbsp;
        <strong>Misc:</strong>
        <a href="https://github.com/lawrencewoodman/techtinkering.com" title="Fork TechTinkering On GitHub ">GitHub</a>
        <script>
          if (isUserFromUK()) {
            document.write('<br /><strong>Disclosure:<' +'/strong> As an Amazon Associate TechTinkering earns from qualifying purchases.');
          }
        </script>
      </div>
    </div>
  </nav>
</footer>
  </body>
</html>