<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Transferring Files to and from CP/M .D71 Disk Images Using ctools</title>
  <meta name="description" content="Using Vice to emulate a Commodore 128 running CP/M works very well, but it isn't easy to get CP/M files directly onto and off a .D64/.D71 disk image.  The easies">
  <meta name="keywords" content="Retro Vintage Programming Tinkering"/>

  <!-- *** Twitter Card *** -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@techtinkering">
  <meta name="twitter:title" content="Transferring Files to and from CP/M .D71 Disk Images Using ctools">
  <meta name="twitter:description" content="Using Vice to emulate a Commodore 128 running CP/M works very well, but it isn't easy to get CP/M files directly onto and off a .D64/.D71 disk image.  The easies">
    <meta name="twitter:image"
         content="https://techtinkering.com/img/social_images/ctools.png">
  <!-- *** Twitter Card *** -->

  <!-- *** Open Graph *** --->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Transferring Files to and from CP/M .D71 Disk Images Using ctools">
  <meta property="og:description" content="Using Vice to emulate a Commodore 128 running CP/M works very well, but it isn't easy to get CP/M files directly onto and off a .D64/.D71 disk image.  The easies">
  <meta property="og:url" content="https://techtinkering.com/articles/transferring-files-to-and-from-cpm-d71-disk-images-using-ctools/">
    <meta property="og:image"
         content="https://techtinkering.com/img/social_images/ctools.png">
  <!-- *** Open Graph *** --->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-4388762-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-4388762-2');
  </script>

  <link href="/css/main.css" rel="stylesheet">
  <link href="/css/article.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" rel="stylesheet" type="text/css" />
  <link rel="canonical" href="https://techtinkering.com/articles/transferring-files-to-and-from-cpm-d71-disk-images-using-ctools/">
  <link rel="alternate" type="application/rss+xml" title="TechTinkering - Retro Computers, Programming, General Technical Tinkering"
        href="https://feedproxy.google.com/TechTinkering" />

	<!-- ****** faviconit.com favicons ****** -->
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<!-- ****** faviconit.com favicons ****** -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <script>
    // Cookie Consent - https://cookieconsent.insites.com
    window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#252e39"
        },
        "button": {
          "background": "#14a7d0"
        }
      },
      "theme": "classic",
      "position": "top",
      "static": true,
      "content": {
        "message": "TechTinkering uses cookies for advertising, analytics, etc.",
        "href": "https://techtinkering.com/privacy/"
      }
    })});
  </script>

  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
         google_ad_client: "ca-pub-1613732348909658",
         enable_page_level_ads: true
    });
  </script>
</head>
  <body>
    <nav>
  <div class="container">
    <div class="navbar-header">
      <a href="/">TechTinkering</a><br />
      =============
    </div>

    <div class="contact">
      <ul>
        <li>
          <a href="https://twitter.com/TechTinkering" title="@TechTinkering on Twitter">Twitter</a>
        </li>
        <li>
          <a href="https://youtube.com/techtinkering" title="TechTinkering's YouTube Channel">YouTube</a>
        </li>
        <li>
          <a href="mailto:techtinkering@vlifesystems.com" title="Email us, we'd love to hear from you">Email</a>
        </li>
        <li>
          <a href="https://github.com/lawrencewoodman/techtinkering.com" title="Fork TechTinkering On GitHub ">GitHub</a>
        </li>
        <li>
          <a href="https://feeds.feedburner.com/TechTinkering" title="Subscribe to our RSS Feed">RSS</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div id="content" class="container">
      <div class="margin-buffer">
    <article itemscope itemtype="http://schema.org/BlogPosting">
    <meta itemprop="image"
         content="https://techtinkering.com/img/social_images/ctools.png" />
      <header>
        <a href="/articles/transferring-files-to-and-from-cpm-d71-disk-images-using-ctools/" title="Transferring Files to and from CP/M .D71 Disk Images Using ctools">
          <h1 itemprop="headline name">Transferring Files to and from CP/M .D71 Disk Images Using ctools</h1>
        </a>
        <div>
            <time itemprop="datePublished"
                  datetime="2019-05-24">
              24 May 2019
            </time>
          <span itemscope itemprop="publisher"
                itemtype="http://schema.org/Organization">
            <meta itemprop="name" content="TechTinkering" />
            <meta itemprop="url" content="https://techtinkering.com" />
          </span>
          <span itemscope itemprop="author" itemtype="http://schema.org/Person">
            <a rel="author" itemprop="url" href="https://lawrencewoodman.github.io">
              <span itemprop="name">Lawrence Woodman</span>
            </a>
          </span>

          <ul class="tags">
              <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
              <li>#<a href="/articles/tag/commodore/">Commodore</a></li>
              <li>#<a href="/articles/tag/emulation/">Emulation</a></li>
              <li>#<a href="/articles/tag/retro/">Retro</a></li>
          </ul>
        </div>
      </header>
        <div itemprop="articleBody">
        <p>Using <a href="http://vice-emu.sourceforge.net/">Vice</a> to emulate a Commodore 128 running CP/M works very well, but it isn't easy to get CP/M files directly onto and off a <em>.D64</em>/<em>.D71</em> disk image.  The easiest way to do this under Linux is to use <em>ctools</em>.</p>
<h2>Building ctools</h2>
<p>First you need to get the source files for <a href="https://github.com/mist64/ctools">ctools</a>, for this we can use <em>wget</em>:</p>
<pre><code class="language-bash">$ wget https://github.com/mist64/ctools/archive/master.zip
$ unzip master.zip
</code></pre>
<p>To build the executables:</p>
<pre><code class="language-bash">$ cd ctools-master/src
$ make
$ make install
</code></pre>
<p>The executable files are now in <em>ctools-master/bin</em>.  You will probably find it useful to copy them to somewhere like <em>~/bin</em> to make them easier to access.</p>
<h2>Using ctools</h2>
<p>ctools is fairly straightforward to use and most of the time you will only use two of the programs: <em>cformat</em> and <em>ctools</em>.</p>
<img src="/img/articles/ctools.png" class="img-right" style="width: 550px; clear: right;" title="ctools">
<h3>Creating a Formatted CP/M Disk Image</h3>
<p><em>cformat</em> allows us to create CP/M disk images and I find it most useful to create double sided C128 disk images using the <code>-2</code> switch.</p>
<p>To create a disk image called <em>work.d71</em>:</p>
<pre><code class="language-bash">$ cformat -2 work.d71
</code></pre>
<br />
<h3>Working With Files on the Image</h3>
<p>Once we have a disk image we can transfer files, erase files, show the directory, etc using the <em>ctools</em> command.</p>
<p>To copy all the <em>.txt</em> files from the current directory onto the disk image, <em>work.d71</em>:</p>
<pre><code class="language-bash">$ ctools work.d71 p *.txt
</code></pre>
<p>To display the files on the image:</p>
<pre><code class="language-bash">$ ctools work.d71 d
</code></pre>
<p>To get all the <em>.txt</em> files from the disk image and put them in the current directory:</p>
<pre><code class="language-bash">$ ctools work.d71 g &quot;*.txt&quot;
</code></pre>
<h2>Video of ctools</h2>
<p>ctools can be seen being used to transfer files to a .D71 disk image which is then read under an emulated C128 running CP/M on Vice below.</p>
<div class="youtube-wrapper">
  <iframe width="560" height="315" src="https://www.youtube.com/embed/lQ1SS16Y_Pg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
      </div>
    </article>
</div>

  <div id="cclicence">
    <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
      <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
    </a>
    <br />
    <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Transferring Files to and from CP/M .D71 Disk Images Using ctools</span>
    by <a xmlns:cc="http://creativecommons.org/ns#" href="https://techtinkering.com/articles/transferring-files-to-and-from-cpm-d71-disk-images-using-ctools/" property="cc:attributionName" rel="cc:attributionURL">Lawrence Woodman</a>
   is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
   
  </div>


  <div class="discuss">
    <h2 style="margin-top:0;">Share This Post</h2>
    <div class="contact">
  <ul>
    <li><a href="http://www.reddit.com/submit?url=https%3A%2F%2Ftechtinkering.com%2Farticles%2Ftransferring-files-to-and-from-cpm-d71-disk-images-using-ctools%2F&title=Transferring%20Files%20to%20and%20from%20CP%2FM%20.D71%20Disk%20Images%20Using%20ctools" target="_blank" title="Submit to Reddit">Reddit</a></li>
    <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ftechtinkering.com%2Farticles%2Ftransferring-files-to-and-from-cpm-d71-disk-images-using-ctools%2F&quote=Transferring%20Files%20to%20and%20from%20CP%2FM%20.D71%20Disk%20Images%20Using%20ctools" target="_blank" title="Share on Facebook">Facebook</a></li>
    <li><a href="https://twitter.com/intent/tweet?source=https%3A%2F%2Ftechtinkering.com%2Farticles%2Ftransferring-files-to-and-from-cpm-d71-disk-images-using-ctools%2F&text=Transferring%20Files%20to%20and%20from%20CP%2FM%20.D71%20Disk%20Images%20Using%20ctools:%0Ahttps%3A%2F%2Ftechtinkering.com%2Farticles%2Ftransferring-files-to-and-from-cpm-d71-disk-images-using-ctools%2F&via=TechTinkering" target="_blank" title="Tweet">Twitter</a></li>
    <li><a href="mailto:?subject=Transferring%20Files%20to%20and%20from%20CP%2FM%20.D71%20Disk%20Images%20Using%20ctools&body=Using%20Vice%20to%20emulate%20a%20Commodore%20128%20running%20CP%2FM%20works%20very%20well%2C%20but%20it%20isn%27t%20easy%20to%20get%20CP%2FM%20files%20directly%20onto%20and%20off%20a%20.D64%2F.D71%20disk%20image.%20%20The%20easiest%20way%20to%20do%20this%20under%20Linux%20is%20to%20use%20c...:%0A%0Ahttps%3A%2F%2Ftechtinkering.com%2Farticles%2Ftransferring-files-to-and-from-cpm-d71-disk-images-using-ctools%2F" target="_blank" title="Send email">Email</a></li>
  </ul>
</div>

    <h2>Feedback/Discuss</h2>
    <div class="contact">
  <ul>


    <li><a href="mailto:techtinkering@vlifesystems.com?subject=Comment:%20Transferring%20Files%20to%20and%20from%20CP%2FM%20.D71%20Disk%20Images%20Using%20ctools&body=Article%20URL:%20https%3A%2F%2Ftechtinkering.com%2Farticles%2Ftransferring-files-to-and-from-cpm-d71-disk-images-using-ctools%2F%0A" title="Send us an email">Email</a></li>
  </ul>
</div>
  </div>

  <div id="email-subscribe">
  <form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=TechTinkering', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
    <p>Sign up to get new articles straight to your inbox.</p>
    <p><input type="text" style="width:180px" name="email" placeholder="Email address"/>
    <input type="hidden" value="TechTinkering" name="uri"/>
    <input type="hidden" name="loc" value="en_US"/>
    <input class="subscribe-button" type="submit" value="Subscribe" /></p>
    <p>Delivered by <a href="https://feedburner.google.com" target="_blank">FeedBurner</a></p>
  </form>
</div>


    <div>
    <h2>Related Articles</h2>
    <div class="margin-buffer">
      <header>
  <h2><a href="/articles/emulating-a-cpm-system-with-z80pack/">Emulating a CP/M System With z80pack</a></h2>
  <span class="post-meta">
      <time datetime="2019-05-21">
        21 May 2019
      </time>
    <ul class="tags">
      <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
      <li>#<a href="/articles/tag/emulation/">Emulation</a></li>
      <li>#<a href="/articles/tag/retro/">Retro</a></li>
    </ul>
  </span>
</header>
<div>
  z80pack is great for creating an emulated CP/M system.  It can either be used to create a general CP/M system or can emulate a specific system such as an IMSAI or ALTAIR including a graphical front-pan...
  &nbsp;
  <a class="readMore" href="/articles/emulating-a-cpm-system-with-z80pack/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/code-and-data-in-display-memory-on-the-vic-20/">Code and Data in Display Memory on the VIC-20</a></h2>
  <span class="post-meta">
      <time datetime="2020-12-07">
         7 December 2020
      </time>
    <ul class="tags">
      <li>#<a href="/articles/tag/assembly/">Assembly</a></li>
      <li>#<a href="/articles/tag/commodore/">Commodore</a></li>
      <li>#<a href="/articles/tag/programming/">Programming</a></li>
      <li>#<a href="/articles/tag/retro/">Retro</a></li>
      <li>#<a href="/articles/tag/vic-20/">VIC-20</a></li>
    </ul>
  </span>
</header>
<div>
  The unexpanded Commodore VIC-20 only had 5K of RAM and therefore creative ways had to be found to maximize the available RAM.  The display memory would use some of this memory and therefore one option ...
  &nbsp;
  <a class="readMore" href="/articles/code-and-data-in-display-memory-on-the-vic-20/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/i-love-ed-on-cpm/">I Love ED on CP/M</a></h2>
  <span class="post-meta">
      <time datetime="2020-11-23">
        23 November 2020
      </time>
    <ul class="tags">
      <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
      <li>#<a href="/articles/tag/editors/">Editors</a></li>
      <li>#<a href="/articles/tag/retro/">Retro</a></li>
    </ul>
  </span>
</header>
<div>
  I love ED on CP/M.  It's often derided but I think it's just misunderstood and with a little practise its true value can shine through.  It's elegant, easy to learn and only has about 25 commands but t...
  &nbsp;
  <a class="readMore" href="/articles/i-love-ed-on-cpm/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/double-width-c64-style-font-on-the-commodore-vic-20/">Double-Width C64 Style Font on the Commodore VIC-20</a></h2>
  <span class="post-meta">
      <time datetime="2020-11-09">
         9 November 2020
      </time>
    <ul class="tags">
      <li>#<a href="/articles/tag/assembly/">Assembly</a></li>
      <li>#<a href="/articles/tag/commodore/">Commodore</a></li>
      <li>#<a href="/articles/tag/programming/">Programming</a></li>
      <li>#<a href="/articles/tag/retro/">Retro</a></li>
      <li>#<a href="/articles/tag/vic-20/">VIC-20</a></li>
    </ul>
  </span>
</header>
<div>
  The C64 used a fatter double-width font because the video quality of early VIC-IIs wasn't very good.  Therefore they had to make the C64's font fatter than the VIC-20's.  However, this fatter font look...
  &nbsp;
  <a class="readMore" href="/articles/double-width-c64-style-font-on-the-commodore-vic-20/">Read More</a>
</div>
<br />
      <header>
  <h2><a href="/articles/the-pilot-programming-language-on-cpm/">The Pilot Programming Language on CP/M</a></h2>
  <span class="post-meta">
      <time datetime="2020-10-22">
        22 October 2020
      </time>
    <ul class="tags">
      <li>#<a href="/articles/tag/cpm/">CP/M</a></li>
      <li>#<a href="/articles/tag/programming/">Programming</a></li>
      <li>#<a href="/articles/tag/retro/">Retro</a></li>
    </ul>
  </span>
</header>
<div>
  Pilot was created by John A. Starkweather in the early 1960s as a programming language for Computer Assisted Instruction.  It has often been compared to Logo because of its use with children.  However,...
  &nbsp;
  <a class="readMore" href="/articles/the-pilot-programming-language-on-cpm/">Read More</a>
</div>
<br />
</div>
    </div>

    </div>

    <footer>
  <nav>
    <div class="container">
      <div>
        <strong>Legal:</strong>
        <a href="/terms/">T & C</a>, <a href="/privacy/">Privacy Policy</a>
      </div>
    </div>
  </nav>
</footer>
  </body>
</html>